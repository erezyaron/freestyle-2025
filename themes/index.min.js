(()=>{var e,t,n,s,o,a,r,l,c,h,d,u;let p;let m=(e,t=1e4)=>Math.round(((e=parseFloat(e+"")||0)+Number.EPSILON)*t)/t,f=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;let t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,s=-1!==n.indexOf("hidden"),o=-1!==n.indexOf("visible");return t&&!s&&!o},g=function(e,t){return!(!e||e===document.body||t&&e===t)&&(f(e)?e:g(e.parentElement,t))},v=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},b=e=>`${e||""}`.split(" ").filter(e=>!!e),y=(e,t,n)=>{e&&b(t).forEach(t=>{e.classList.toggle(t,n||!1)})};class w{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}}let x={passive:!1};class S{constructor(e,{start:t=()=>!0,move:n=()=>{},end:s=()=>{}}){for(let o of(Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=n,this.endCallback=s,["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"]))this[o]=this[o].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,x),this.element.addEventListener("touchstart",this.onTouchStart,x),this.element.addEventListener("touchmove",this.onMove,x),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||0!==e.button)return;let t=new w(e);this.currentPointers.some(e=>e.id===t.id)||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(let t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new w(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){let t=this.currentPointers.slice(),n="changedTouches"in e?Array.from(e.changedTouches||[]).map(e=>new w(e)):[new w(e)],s=[];for(let e of n){let t=this.currentPointers.findIndex(t=>t.id===e.id);t<0||(s.push(e),this.currentPointers[t]=e)}s.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new w(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(let t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new w(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){let n=this.currentPointers.findIndex(e=>e.id===t.id);n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){let e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,x),this.element.removeEventListener("touchstart",this.onTouchStart,x),this.element.removeEventListener("touchmove",this.onMove,x),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function E(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function C(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}let P=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e),T=(e,...t)=>{let n=t.length;for(let s=0;s<n;s++)Object.entries(t[s]||{}).forEach(([t,n])=>{let s=Array.isArray(n)?[]:{};e[t]||Object.assign(e,{[t]:s}),P(n)?Object.assign(e[t],T(s,n)):Array.isArray(n)?Object.assign(e,{[t]:[...n]}):Object.assign(e,{[t]:n})});return e},M=function(e,t){return e.split(".").reduce((e,t)=>"object"==typeof e?e[t]:void 0,t)};class L{constructor(e={}){for(let t of(Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e),Object.getOwnPropertyNames(Object.getPrototypeOf(this))))t.startsWith("on")&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}setOptions(e){for(let[t,n]of(this.options=e?T({},this.constructor.defaults,e):{},Object.entries(this.option("on")||{})))this.on(t,n)}option(e,...t){let n=M(e,this.options);return n&&"function"==typeof n&&(n=n.call(this,this,...t)),n}optionFor(e,t,n,...s){var o;let a=M(t,e);"string"!=typeof(o=a)||isNaN(o)||isNaN(parseFloat(o))||(a=parseFloat(a)),"true"===a&&(a=!0),"false"===a&&(a=!1),a&&"function"==typeof a&&(a=a.call(this,this,e,...s));let r=M(t,this.options);return r&&"function"==typeof r?a=r.call(this,this,e,...s,a):void 0===a&&(a=r),void 0===a?n:a}cn(e){let t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(e,t,n)=>{let s="";return n?s=this.option(`${t[0]+t.toLowerCase().substring(1)}.l10n.${n}`):t&&(s=this.option(`l10n.${t}`)),s||(s=e),s});for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(e,t)=>t)}on(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach(e=>{let n=this.events.get(e);n||(this.events.set(e,[]),n=[]),n.includes(t)||n.push(t),this.events.set(e,n)})}off(e,t){let n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach(e=>{let n=this.events.get(e);if(Array.isArray(n)){let e=n.indexOf(t);e>-1&&n.splice(e,1)}})}emit(e,...t){[...this.events.get(e)||[]].forEach(e=>e(this,...t)),"*"!==e&&this.emit("*",e,...t)}}Object.defineProperty(L,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(L,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class O extends L{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){let t=new Map;for(let[n,s]of Object.entries(e)){let e=this.option(n),o=this.plugins[n];o||!1===e?o&&!1===e&&(o.detach(),delete this.plugins[n]):t.set(n,new s(this,e||{}))}for(let[e,n]of t)this.plugins[e]=n,n.attach()}detachPlugins(e){for(let t of e=e||Object.keys(this.plugins)){let e=this.plugins[t];e&&e.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}}(r=e||(e={}))[r.Init=0]="Init",r[r.Error=1]="Error",r[r.Ready=2]="Ready",r[r.Panning=3]="Panning",r[r.Mousemove=4]="Mousemove",r[r.Destroy=5]="Destroy";let A=["a","b","c","d","e","f"],k={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},z='<circle cx="25" cy="25" r="20"></circle>',R='<div class="f-spinner"><svg viewBox="0 0 50 50">'+z+z+"</svg></div>",I=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,D=(e,t)=>{e&&b(t).forEach(t=>{e.classList.remove(t)})},F=(e,t)=>{e&&b(t).forEach(t=>{e.classList.add(t)})},j={a:1,b:0,c:0,d:1,e:0,f:0},H="mousemove",q="drag",B="content",N="auto",_=null,$=null;class W extends O{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return null===$&&($=window.matchMedia("(hover: none)").matches),$}get isMobile(){return null===_&&(_=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),_}get panMode(){return this.options.panMode!==H||this.isTouchDevice?q:H}get panOnlyZoomed(){let e=this.options.panOnlyZoomed;return e===N?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){let{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){let{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){let{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){let{containerRect:e,contentRect:t}=this,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){let e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(let e of A){let t="e"==e||"f"===e?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,n={},s={}){var o;if(super(n),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:e.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},j)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},j)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw Error("Container Element Not Found");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},W.Plugins),s)),this.emit("attachPlugins"),this.emit("init");let a=this.content;if(a.addEventListener("load",this.onLoad),a.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){t.classList.add(this.cn("isLoading"));let e=v(R);!t.contains(a)||a.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(e):this.spinner=(null===(o=a.parentElement)||void 0===o?void 0:o.insertBefore(e,a))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){let{container:e}=this,t=this.cn(B),n=this.option(B)||e.querySelector(`.${t}`);if(n||(n=e.querySelector("img,picture")||e.firstElementChild)&&F(n,t),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw Error("No content found");this.content=n}onLoad(){let{spinner:t,container:n,state:s}=this;t&&(t.remove(),this.spinner=null),this.option("spinner")&&n.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),s===e.Init?this.enable():this.updateMetrics()}onError(){this.state!==e.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=e.Error,this.emit("error"))}getNextScale(e){let{fullScale:t,targetScale:n,coverScale:s,maxScale:o,minScale:a}=this,r=a;switch(e){case"toggleMax":r=n-a<.5*(o-a)?o:a;break;case"toggleCover":r=n-a<.5*(s-a)?s:a;break;case"toggleZoom":r=n-a<.5*(t-a)?t:a;break;case"iterateZoom":let l=[1,t,o].sort((e,t)=>e-t),c=l.findIndex(e=>e>n+1e-5);r=l[c]||1}return r}attachObserver(){var e;let t=()=>{let{container:e,containerRect:t}=this;return Math.abs(t.width-e.getBoundingClientRect().width)>.1||Math.abs(t.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{t()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}detachObserver(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}attachEvents(){let{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new S(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(H,this.onMouseMove)}detachEvents(){var e;let{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(H,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();let e=this.friction,t=this.option("maxVelocity");for(let n of A)e?(this.velocity[n]*=1-e,t&&!this.isScaling&&(this.velocity[n]=Math.max(Math.min(this.velocity[n],t),-1*t)),this.current[n]+=this.velocity[n]):this.current[n]=this.target[n];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(let e of A)"e"===e&&this.isBouncingX||"f"===e&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){let{current:n}=this,s=n.e+e,o=n.f+t,a=this.getBounds(),{x:r,y:l}=a,c=r.min,h=r.max,d=l.min,u=l.max,p=0,m=0;return c!==1/0&&s<c?p=c-s:h!==1/0&&s>h&&(p=h-s),d!==1/0&&o<d?m=d-o:u!==1/0&&o>u&&(m=u-o),1e-4>Math.abs(p)&&(p=0),1e-4>Math.abs(m)&&(m=0),Object.assign(Object.assign({},a),{xDiff:p,yDiff:m,inBounds:!p&&!m})}clampTargetBounds(){let{target:e}=this,{x:t,y:n}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}calculateContentDim(e=this.current){let{content:t,contentRect:n}=this,{fitWidth:s,fitHeight:o,fullWidth:a,fullHeight:r}=n,l=a,c=r;if(this.option("zoom")||0!==this.angle){let n=!(t instanceof HTMLImageElement)&&("none"===window.getComputedStyle(t).maxWidth||"none"===window.getComputedStyle(t).maxHeight),h=n?a:s,d=n?r:o,u=this.getMatrix(e),p=new DOMPoint(0,0).matrixTransform(u),m=new DOMPoint(0+h,0).matrixTransform(u),f=new DOMPoint(0+h,0+d).matrixTransform(u),g=new DOMPoint(0,0+d).matrixTransform(u),v=Math.abs(f.x-p.x),b=Math.abs(f.y-p.y),y=Math.abs(g.x-m.x),w=Math.abs(g.y-m.y);l=Math.max(v,y),c=Math.max(b,w)}return{contentWidth:l,contentHeight:c}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===H||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);let{target:e}=this,{x:t,y:n,xDiff:s,yDiff:o}=this.checkBounds(),a=this.option("maxVelocity"),r=this.velocity.e,l=this.velocity.f;0!==s?(this.isBouncingX=!0,s*r<=0?r+=.14*s:(r=.14*s,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),a&&(r=Math.max(Math.min(r,a),-1*a))):this.isBouncingX=!1,0!==o?(this.isBouncingY=!0,o*l<=0?l+=.14*o:(l=.14*o,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),a&&(l=Math.max(Math.min(l,a),-1*a))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=r),this.isBouncingY&&(this.velocity.f=l)}enable(){let{content:t}=this,n=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(let e of A)this.current[e]=this.target[e]=n[e];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=e.Ready,this.emit("ready")}onClick(e){var t;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());let n=e.target;if(!n||e.defaultPrevented)return;if(n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{let e=window.getSelection();return e&&"Range"===e.type})()&&!n.closest("button"))return;let s=n.closest("[data-panzoom-action]"),o=n.closest("[data-panzoom-change]"),a=s||o,r=a&&I(a)?a.dataset:null;if(r){let t=r.panzoomChange,n=r.panzoomAction;if((t||n)&&e.preventDefault(),t){let e={};try{e=JSON.parse(t)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(e)}if(n)return void(this[n]&&this[n]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(n.closest("[data-fancybox]"))return;let l=this.content.getBoundingClientRect(),c=this.dragStart;if(c.time&&!this.canZoomOut()&&(Math.abs(l.x-c.x)>2||Math.abs(l.y-c.y)>2))return;this.dragStart.time=0;let h=t=>{this.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof this[t]&&(e.preventDefault(),this[t]({event:e}))},d=this.option("click",e),u=this.option("dblClick",e);u?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout(()=>{1===this.clicks?(this.emit("click",e),!e.defaultPrevented&&d&&h(d)):(this.emit("dblClick",e),e.defaultPrevented||h(u)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",e),!e.defaultPrevented&&d&&h(d))}addTrackingPoint(e){let t=this.trackingPoints.filter(e=>e.time>Date.now()-100);t.push(e),this.trackingPoints=t}onPointerDown(e,t,n){var s;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];let o=this.content.getBoundingClientRect();if(this.dragStart={x:o.x,y:o.y,top:o.top,left:o.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===H&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;let a=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(a.nodeName)||a.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(s=window.getSelection())||void 0===s||s.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(a.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,t,n){if(!1===this.option("touch",e)||!this.isDragging||t.length<2&&this.panOnlyZoomed&&m(this.targetScale)<=m(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))return;this.addTrackingPoint(t[0]);let{content:s}=this,o=C(n[0],n[1]),a=C(t[0],t[1]),r=0,l=0;if(t.length>1){let e=s.getBoundingClientRect();r=o.clientX-e.left-.5*e.width,l=o.clientY-e.top-.5*e.height}let c=E(n[0],n[1]),h=E(t[0],t[1]),d=c?h/c:1,u=a.clientX-o.clientX,p=a.clientY-o.clientY;this.dragOffset.x+=u,this.dragOffset.y+=p,this.dragOffset.time=Date.now()-this.dragStart.time;let f=m(this.targetScale)===m(this.minScale)&&this.option("lockAxis");if(f&&!this.lockedAxis){if("xy"===f||"y"===f||"touchmove"===e.type){if(6>Math.abs(this.dragOffset.x)&&6>Math.abs(this.dragOffset.y))return void e.preventDefault();let t=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=t>45&&t<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,u=0,p=0}else this.lockedAxis=f}if(g(e.target,this.content)&&(f="x",this.dragOffset.y=0),f&&"xy"!==f&&this.lockedAxis!==f&&m(this.targetScale)===m(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));let v=this.checkBounds(u,p);this.option("rubberband")?("x"!==this.isInfinite&&(v.xDiff>0&&u<0||v.xDiff<0&&u>0)&&(u*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*v.xDiff))),"y"!==this.isInfinite&&(v.yDiff>0&&p<0||v.yDiff<0&&p>0)&&(p*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*v.yDiff)))):(v.xDiff&&(u=0),v.yDiff&&(p=0));let b=this.targetScale,y=this.minScale,w=this.maxScale;b<.5*y&&(d=Math.max(d,y)),b>1.5*w&&(d=Math.min(d,w)),"y"===this.lockedAxis&&m(b)===m(y)&&(u=0),"x"===this.lockedAxis&&m(b)===m(y)&&(p=0),this.applyChange({originX:r,originY:l,panX:u,panY:p,scale:d,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(t,n,s){if(s.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(n),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),g(t.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==e.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;let t=this.isScaling;for(let e of(this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1,A))this.velocity[e]=0;this.target.e=this.current.e,this.target.f=this.current.f,D(this.container,"is-scaling"),D(this.container,"is-animating"),this.isTicking=!1;let{trackingPoints:n}=this,s=n[0],o=n[n.length-1],a=0,r=0,l=0;o&&s&&(a=o.clientX-s.clientX,r=o.clientY-s.clientY,l=o.time-s.time);let c=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==c&&(a*=c,r*=c);let h=0,d=0,u=0,p=0,f=this.option("decelFriction"),g=this.targetScale;if(l>0){u=Math.abs(a)>3?a/(l/30):0,p=Math.abs(r)>3?r/(l/30):0;let e=this.option("maxVelocity");e&&(u=Math.max(Math.min(u,e),-1*e),p=Math.max(Math.min(p,e),-1*e))}u&&(h=u/(1/(1-f)-1)),p&&(d=p/(1/(1-f)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&m(g)===this.minScale)&&(h=u=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&m(g)===this.minScale)&&(d=p=0);let v=this.dragOffset.x,b=this.dragOffset.y,y=this.option("dragMinThreshold")||0;Math.abs(v)<y&&Math.abs(b)<y&&(h=d=0,u=p=0),(this.option("zoom")&&(g<this.minScale-1e-5||g>this.maxScale+1e-5)||t&&!h&&!d)&&(f=.35),this.applyChange({panX:h,panY:d,friction:f}),this.emit("decel",u,p,v,b)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e});if(this.emit("wheel",e,Math.max(-1,Math.min(1,t))),this.panMode===H||e.defaultPrevented)return;let n=this.option("wheel");"pan"===n?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:-(2*e.deltaX),panY:-(2*e.deltaY),bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){"Escape"===e.key&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");let{current:e,target:t,content:n,contentRect:s}=this,o=Object.assign({},j);for(let n of A){let s="e"==n||"f"===n?1e4:1e5;o[n]=m(e[n],s),Math.abs(t[n]-e[n])<("e"==n||"f"===n?.51:.001)&&(e[n]=t[n])}let{a:a,b:r,c:l,d:c,e:h,f:d}=o,u=`matrix(${a}, ${r}, ${l}, ${c}, ${h}, ${d})`,p=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option("transformParent")&&(p=p.parentElement||p),p.style.transform===u)return;p.style.transform=u;let{contentWidth:f,contentHeight:g}=this.calculateContentDim();s.width=f,s.height=g,this.emit("afterTransform")}updateMetrics(t=!1){var n;if(!this||this.state===e.Destroy||this.isContentLoading)return;let s=Math.max(1,(null===(n=window.visualViewport)||void 0===n?void 0:n.scale)||1),{container:o,content:a}=this,r=a instanceof HTMLImageElement,l=o.getBoundingClientRect(),c=getComputedStyle(this.container),h=l.width*s,d=l.height*s,u=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom),p=h-(parseFloat(c.paddingLeft)+parseFloat(c.paddingRight));this.containerRect={width:h,height:d,innerWidth:p,innerHeight:d-u};let f=parseFloat(a.dataset.width||"")||(a instanceof HTMLImageElement?a.naturalWidth:a instanceof SVGElement?a.width.baseVal.value:Math.max(a.offsetWidth,a.scrollWidth))||0,g=parseFloat(a.dataset.height||"")||(a instanceof HTMLImageElement?a.naturalHeight:a instanceof SVGElement?a.height.baseVal.value:Math.max(a.offsetHeight,a.scrollHeight))||0,v=this.option("width",f)||N,b=this.option("height",g)||N,y=v===N,w=b===N;"number"!=typeof v&&(v=f),"number"!=typeof b&&(b=g),y&&(v=b/g*f),w&&(b=g/(f/v));let x=a.parentElement instanceof HTMLPictureElement?a.parentElement:a;this.option("transformParent")&&(x=x.parentElement||x);let S=x.getAttribute("style")||"";x.style.setProperty("transform","none","important"),r&&(x.style.width="",x.style.height=""),x.offsetHeight;let E=a.getBoundingClientRect(),C=E.width*s,P=E.height*s,T=C,M=P;C=Math.min(C,v),P=Math.min(P,b),r?{width:C,height:P}=((e,t,n,s)=>{let o=Math.min(n/e,s/t);return{width:e*=o,height:t*=o}})(v,b,C,P):(C=Math.min(C,v),P=Math.min(P,b));let L=.5*(M-P),O=.5*(T-C);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:E.top-l.top+L,bottom:l.bottom-E.bottom+L,left:E.left-l.left+O,right:l.right-E.right+O,fitWidth:C,fitHeight:P,width:C,height:P,fullWidth:v,fullHeight:b}),x.style.cssText=S,r&&(x.style.width=`${C}px`,x.style.height=`${P}px`),this.setTransform(),!0!==t&&this.emit("refresh"),this.ignoreBounds||(m(this.targetScale)<m(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===e.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){let{contentWidth:e,contentHeight:t}=this.calculateContentDim(this.target),{targetScale:n,lockedAxis:s}=this,{fitWidth:o,fitHeight:a}=this.contentRect,r=0,l=0,c=0,h=0,d=this.option("infinite");if(!0===d||s&&d===s)r=-1/0,c=1/0,l=-1/0,h=1/0;else{let{containerRect:s,contentRect:d}=this,u=m(o*n,1e4),p=m(a*n,1e4),{innerWidth:f,innerHeight:g}=s;if(s.width===u&&(f=s.width),s.width===p&&(g=s.height),e>f){r=-1*(c=.5*(e-f));let t=.5*(d.right-d.left);r+=t,c+=t}if(o>f&&e<f&&(r-=.5*(o-f),c-=.5*(o-f)),t>g){l=-1*(h=.5*(t-g));let e=.5*(d.bottom-d.top);l+=e,h+=e}a>g&&t<g&&(r-=.5*(a-g),c-=.5*(a-g))}return{x:{min:r,max:c},y:{min:l,max:h}}}getBounds(){let e=this.option("bounds");return e!==N?e:this.calculateBounds()}updateControls(){let e=this.container,{panMode:t,contentRect:n,targetScale:s,minScale:o}=this,a=o,r=this.option("click")||!1;r&&(a=this.getNextScale(r));let l=this.canZoomIn(),c=this.canZoomOut(),h=t===q&&!!this.option("touch"),d=c&&h;if(h&&(m(s)<m(o)&&!this.panOnlyZoomed&&(d=!0),(m(n.width,1)>m(n.fitWidth,1)||m(n.height,1)>m(n.fitHeight,1))&&(d=!0)),m(n.width*s,1)<m(n.fitWidth,1)&&(d=!1),t===H&&(d=!1),y(e,this.cn("isDraggable"),d),!this.option("zoom"))return;let u=l&&m(a)>m(s),p=!u&&!d&&c&&m(a)<m(s);for(let t of(y(e,this.cn("canZoomIn"),u),y(e,this.cn("canZoomOut"),p),e.querySelectorAll("[data-panzoom-action]"))){let e=!1,n=!1;switch(t.dataset.panzoomAction){case"zoomIn":l?e=!0:n=!0;break;case"zoomOut":c?e=!0:n=!0;break;case"toggleZoom":case"iterateZoom":l||c?e=!0:n=!0;let s=t.querySelector("g");s&&(s.style.display=l?"":"none")}e?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):n&&(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"))}}panTo({x:t=this.target.e,y:n=this.target.f,scale:s=this.targetScale,friction:o=this.option("friction"),angle:a=0,originX:r=0,originY:l=0,flipX:c=!1,flipY:h=!1,ignoreBounds:d=!1}){this.state!==e.Destroy&&this.applyChange({panX:t-this.target.e,panY:n-this.target.f,scale:s/this.targetScale,angle:a,originX:r,originY:l,friction:o,flipX:c,flipY:h,ignoreBounds:d})}applyChange({panX:t=0,panY:n=0,scale:s=1,angle:o=0,originX:a=-this.current.e,originY:r=-this.current.f,friction:l=this.option("friction"),flipX:c=!1,flipY:h=!1,ignoreBounds:d=!1,bounce:u=this.option("bounce")}){let p=this.state;if(p===e.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=l||0,this.ignoreBounds=d;let{current:f}=this,g=f.e,v=f.f,b=this.getMatrix(this.target),y=(new DOMMatrix).translate(g,v).translate(a,r).translate(t,n);if(this.option("zoom")){if(!d){let e=this.targetScale,t=this.minScale,n=this.maxScale;e*s<t&&(s=t/e),e*s>n&&(s=n/e)}y=y.scale(s)}for(let e of(y=y.translate(-a,-r).translate(-g,-v).multiply(b),o&&(y=y.rotate(o)),c&&(y=y.scale(-1,1)),h&&(y=y.scale(1,-1)),A))"e"!==e&&"f"!==e&&(y[e]>this.minScale+1e-5||y[e]<this.minScale-1e-5)?this.target[e]=y[e]:this.target[e]=m(y[e],1e4);(this.targetScale<this.scale||Math.abs(s-1)>.1||this.panMode===H||!1===u)&&!d&&this.clampTargetBounds(),p===e.Init?this.animate():this.isResting||(this.state=e.Panning,this.requestTick())}stop(t=!1){if(this.state===e.Init||this.state===e.Destroy)return;let n=this.isTicking;for(let e of(this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1,A))this.velocity[e]=0,"current"===t?this.current[e]=this.target[e]:"target"===t&&(this.target[e]=this.current[e]);this.setTransform(),D(this.container,"is-scaling"),D(this.container,"is-animating"),this.isTicking=!1,this.state=e.Ready,n&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),F(this.container,"is-animating"),this.isScaling&&F(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(e,t=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==H||!e||m(this.targetScale)<=m(this.minScale))return;this.emit("mouseMove",e);let{container:n,containerRect:s,contentRect:o}=this,a=s.width,r=s.height,l=n.getBoundingClientRect(),c=(e.clientX||0)-l.left,h=(e.clientY||0)-l.top,{contentWidth:d,contentHeight:u}=this.calculateContentDim(this.target),p=this.option("mouseMoveFactor");p>1&&(d!==a&&(d*=p),u!==r&&(u*=p));let f=.5*(d-a)-c/a*100/100*(d-a);f+=.5*(o.right-o.left);let g=.5*(u-r)-h/r*100/100*(u-r);g+=.5*(o.bottom-o.top),this.applyChange({panX:f-this.target.e,panY:g-this.target.f,friction:t})}zoomWithWheel(t){if(this.state===e.Destroy||this.state===e.Init)return;let n=Date.now();if(n-this.pwt<45)return void t.preventDefault();this.pwt=n;let s=Math.max(-1,Math.min(1,[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}))),{targetScale:o,maxScale:a,minScale:r}=this,l=o*(100+45*s)/100;m(l)<m(r)&&m(o)<=m(r)?(this.cwd+=Math.abs(s),l=r):m(l)>m(a)&&m(o)>=m(a)?(this.cwd+=Math.abs(s),l=a):(this.cwd=0,l=Math.max(Math.min(l,a),r)),this.cwd>this.option("wheelLimit")||(t.preventDefault(),m(l)!==m(o)&&this.zoomTo(l,{event:t}))}canZoomIn(){return this.option("zoom")&&(m(this.contentRect.width,1)<m(this.contentRect.fitWidth,1)||m(this.targetScale)<m(this.maxScale))}canZoomOut(){return this.option("zoom")&&m(this.targetScale)>m(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(t=1,{friction:n=N,originX:s=N,originY:o=N,event:a}={}){if(this.isContentLoading||this.state===e.Destroy)return;let{targetScale:r,fullScale:l,maxScale:c,coverScale:h}=this;if(this.stop(),this.panMode===H&&(a=this.pmme||a),a||s===N||o===N){let e=this.content.getBoundingClientRect(),t=this.container.getBoundingClientRect(),n=a?a.clientX:t.left+.5*t.width,r=a?a.clientY:t.top+.5*t.height;s=n-e.left-.5*e.width,o=r-e.top-.5*e.height}let d=1;"number"==typeof t?d=t:"full"===t?d=l:"cover"===t?d=h:"max"===t?d=c:"fit"===t?d=1:"next"===t&&(d=this.getNextScale("iterateZoom")),d=d/r||1,n=n===N?d>1?.15:.25:n,this.applyChange({scale:d,originX:s,originY:o,friction:n}),a&&this.panMode===H&&this.panWithMouse(a,n)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");let{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");let{containerRect:e,contentRect:t,target:n}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){let{container:e}=this,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);let s=e.classList.contains(t);s?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(s?"enterFS":"exitFS")}getMatrix(e=this.current){let{a:t,b:n,c:s,d:o,e:a,f:r}=e;return new DOMMatrix([t,n,s,o,a,r])}reset(t){if(this.state!==e.Init&&this.state!==e.Destroy){for(let e of(this.stop("current"),A))this.target[e]=j[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===t?this.option("friction"):t,this.state=e.Panning,this.requestTick())}}destroy(){this.stop(),this.state=e.Destroy,this.detachEvents(),this.detachObserver();let{container:t,content:n}=this;for(let e of Object.values(this.option("classes")||{}))t.classList.remove(e+"");n&&(n.removeEventListener("load",this.onLoad),n.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:k}}),Object.defineProperty(W,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});let X=function(e,t){let n=!0;return(...s)=>{n&&(n=!1,e(...s),setTimeout(()=>{n=!0},t))}},Y=(e,t)=>{let n=[];return e.childNodes.forEach(e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)}),n};(l=t||(t={}))[l.Init=0]="Init",l[l.Ready=1]="Ready",l[l.Destroy=2]="Destroy";let V=e=>{if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{let t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},Z=(e={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},e);class U extends L{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}}class G extends U{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){F(e=document.createElement("ul"),this.cn("list")),e.setAttribute("role","tablist");let t=this.instance.container;t.appendChild(e),F(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;let t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),s=Math.max(2e3,this.option("maxCount")),o=this.option("dynamicFrom");if(t<n||t>s)return void this.cleanup();let a="number"==typeof o&&t>5&&t>=o,r=!this.list||this.isDynamic!==a||this.list.children.length!==t;r&&this.cleanup();let l=this.build();if(y(l,this.cn("isDynamic"),!!a),r)for(let e=0;e<t;e++)l.append(this.createItem(e));let c,h=0;for(let t of[...l.children]){let n=h===this.instance.page;for(let s of(n&&(c=t),y(t,this.cn("isCurrent"),n),null===(e=t.children[0])||void 0===e||e.setAttribute("aria-selected",n?"true":"false"),["isBeforePrev","isPrev","isNext","isAfterNext"]))D(t,this.cn(s));h++}if(c=c||l.firstChild,a&&c){let e=c.previousElementSibling,t=e&&e.previousElementSibling;F(e,this.cn("isPrev")),F(t,this.cn("isBeforePrev"));let n=c.nextElementSibling,s=n&&n.nextElementSibling;F(n,this.cn("isNext")),F(s,this.cn("isAfterNext"))}this.isDynamic=a}createItem(e=0){var t;let n=document.createElement("li");n.setAttribute("role","presentation");let s=v(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return n.appendChild(s),null===(t=n.children[0])||void 0===t||t.setAttribute("role","tab"),n}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,D(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(G,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});let K="disabled",J="next",Q="prev";class ee extends U{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){let e=this.instance,t=e.pages.length,n=e.page;if(t<2)return void this.cleanup();this.build();let s=this.prev,o=this.next;s&&o&&(s.removeAttribute(K),o.removeAttribute(K),e.isInfinite||(n<=0&&s.setAttribute(K,""),n>=t-1&&o.setAttribute(K,"")))}addBtn(e){var t;let n=this.instance,s=document.createElement("button");s.setAttribute("tabindex","0"),s.setAttribute("title",n.localize(`{{${e.toUpperCase()}}}`)),F(s,this.cn("button")+" "+this.cn(e===J?"isNext":"isPrev"));let o=n.isRTL?e===J?Q:J:e;return s.innerHTML=n.localize(this.option(`${o}Tpl`)),s.dataset[`carousel${e?e.match("^[a-z]")?e.charAt(0).toUpperCase()+e.substring(1):e:""}`]="true",null===(t=this.container)||void 0===t||t.appendChild(s),s}build(){let e=this.instance.container,t=this.cn("container"),{container:n,prev:s,next:o}=this;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(F(n=document.createElement("div"),t),e.appendChild(n)),this.container=n,o||(o=n.querySelector("[data-carousel-next]")),o||(o=this.addBtn(J)),this.next=o,s||(s=n.querySelector("[data-carousel-prev]")),s||(s=this.addBtn(Q)),this.prev=s}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(ee,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class et extends U{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){let{nav:e,target:n}=this;e&&n&&(e.options.initialSlide=n.options.initialPage,e.state===t.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),n.state===t.Ready?this.onTargetReady(n):n.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,n){this.onNavTouch(e,e.panzoom,n)}onNavTouch(e,t,n){var s,o;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;let a=n.target,{nav:r,target:l}=this;if(!r||!l||!a)return;let c=a.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),!c)return;let h=parseInt(c.dataset.index||"",10)||0,d=l.getPageForSlide(h),u=r.getPageForSlide(h);r.slideTo(u),l.slideTo(d,{friction:(null===(o=null===(s=this.nav)||void 0===s?void 0:s.plugins)||void 0===o?void 0:o.Sync.option("friction"))||0}),this.markSelectedSlide(h)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,n;let{target:s,nav:o}=this;if(!s||!o||o.state!==t.Ready||s.state!==t.Ready)return;let a=null===(n=null===(e=s.pages[s.page])||void 0===e?void 0:e.slides[0])||void 0===n?void 0:n.index,r=o.getPageForSlide(a);this.markSelectedSlide(a),o.slideTo(r,null===o.prevPage&&null===s.prevPage?{friction:0}:void 0)}markSelectedSlide(e){let n=this.nav;n&&n.state===t.Ready&&(this.selectedIndex=e,[...n.slides].map(t=>{t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")}))}attach(){let e=this.options.target,t=this.options.nav;e?this.addAsNavFor(e):t&&this.addAsTargetFor(t)}detach(){let e=this.nav,t=this.target;e&&(e.off("ready",this.onNavReady),e.off("createSlide",this.onNavCreateSlide),e.off("Panzoom.click",this.onNavClick),e.off("Panzoom.touchEnd",this.onNavTouch)),this.nav=null,t&&(t.off("ready",this.onTargetReady),t.off("refresh",this.onTargetChange),t.off("change",this.onTargetChange)),this.target=null}}Object.defineProperty(et,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});let ei="animationend",en="isSelected",es="slide";class eo extends O{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===t.Ready}get isInfinite(){let e=!1,{contentDim:t,viewportDim:n,pages:s,slides:o}=this,a=o[0];return s.length>=2&&a&&t+a.dim>=n&&(e=this.option("infinite")),e}get isRTL(){return"rtl"===this.option("direction")}get isHorizontal(){return"x"===this.option("axis")}constructor(e,n={},s={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:t.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!I(e))throw Error("No Element found");this.container=e,this.slideNext=X(this.slideNext.bind(this),150),this.slidePrev=X(this.slidePrev.bind(this),150),this.userOptions=n,this.userPlugins=s,queueMicrotask(()=>{this.processOptions()})}processOptions(){var e,n;let s=T({},eo.defaults,this.userOptions),o="",a=s.breakpoints;if(a&&P(a))for(let[e,t]of Object.entries(a))window.matchMedia(e).matches&&P(t)&&(o+=e,T(s,t));o===this.bp&&this.state!==t.Init||(this.bp=o,this.state===t.Ready&&(s.initialSlide=(null===(n=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===n?void 0:n.index)||0),this.state!==t.Init&&this.destroy(),super.setOptions(s),!1===this.option("enabled")?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=t.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},eo.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=t.Ready,this.emit("ready")}initLayout(){let{container:e}=this,t=this.option("classes");F(e,this.cn("container")),y(e,t.isLTR,!this.isRTL),y(e,t.isRTL,this.isRTL),y(e,t.isVertical,!this.isHorizontal),y(e,t.isHorizontal,this.isHorizontal);let n=this.option("viewport")||e.querySelector(`.${t.viewport}`);n||(F(n=document.createElement("div"),t.viewport),n.append(...Y(e,`.${t.slide}`)),e.prepend(n)),n.addEventListener("scroll",this.onScroll);let s=this.option("track")||e.querySelector(`.${t.track}`);s||(F(s=document.createElement("div"),t.track),s.append(...Array.from(n.childNodes))),s.setAttribute("aria-live","polite"),n.contains(s)||n.prepend(s),this.viewport=n,this.track=s,this.emit("initLayout")}initSlides(){let{track:e}=this;if(!e)return;let t=[...this.slides],n=[];for(let s of([...Y(e,`.${this.cn(es)}`)].forEach(e=>{if(I(e)){let t=V({el:e,isDom:!0,index:this.slides.length});n.push(t)}}),[...this.option("slides",[])||[],...t]))n.push(V(s));this.slides=n;for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(let e of n)this.emit("beforeInitSlide",e,e.index),this.emit("initSlide",e,e.index);this.emit("initSlides")}setInitialPage(){let e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){let{track:e,pages:t,isHorizontal:n}=this;if(!e||!t.length)return;let s=this.page;t[s]||(this.page=s=0);let o=(t[s].pos||0)*(this.isRTL&&n?1:-1),a=n?`${o}px`:"0",r=n?"0":`${o}px`;e.style.transform=`translate3d(${a}, ${r}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);let e=this.option("Panzoom")||{};this.panzoom=new W(this.viewport,T({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:e=>!(this.pages.length<2&&!e.options.infinite),bounds:()=>this.getBounds(),maxVelocity:e=>Math.abs(e.target[this.axis]-e.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",(e,t,...n)=>{this.emit(`Panzoom.${t}`,e,...n)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){let e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[],{contentDim:t,viewportDim:n}=this,s=this.option("slidesPerPage");s=("auto"===s||t<=n)&&!1!==this.option("fill")?1/0:parseFloat(s+"");let o=0,a=0,r=0;for(let t of this.slides)(!e.length||a+t.dim-n>.05||r>=s)&&(e.push(Z()),o=e.length-1,a=0,r=0),e[o].slides.push(t),a+=t.dim+t.gap,r++;return e}processPages(){let e;let t=this.pages,{contentDim:n,viewportDim:s,isInfinite:o}=this,a=this.option("center"),r=this.option("fill"),l=r&&a&&n>s&&!o;if(t.forEach((e,t)=>{var o;for(let[n,s]of(e.index=t,e.pos=(null===(o=e.slides[0])||void 0===o?void 0:o.pos)||0,e.dim=0,e.slides.entries()))e.dim+=s.dim,n<e.slides.length-1&&(e.dim+=s.gap);l&&e.pos+.5*e.dim<.5*s?e.pos=0:l&&e.pos+.5*e.dim>=n-.5*s?e.pos=n-s:a&&(e.pos+=-.5*(s-e.dim))}),t.forEach(e=>{r&&!o&&n>s&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,n-s)),e.pos=m(e.pos,1e3),e.dim=m(e.dim,1e3),.1>=Math.abs(e.pos)&&(e.pos=0)}),o)return t;let c=[];return t.forEach(t=>{let n=Object.assign({},t);e&&n.pos===e.pos?(e.dim+=n.dim,e.slides=[...e.slides,...n.slides]):(n.index=c.length,e=n,c.push(n))}),c}getPageFromIndex(e=0){let t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}getSlideMetrics(e){var t,n;let s=this.isHorizontal?"width":"height",o=0,a=0,r=e.el,l=!(!r||r.parentNode);if(r?o=parseFloat(r.dataset[s]||"")||0:((r=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(r)),F(r,this.cn(es)+" "+e.class+" "+e.customClass),o)r.style[s]=`${o}px`,r.style["width"===s?"height":"width"]="";else{l&&(this.track||document.body).prepend(r),o=r.getBoundingClientRect()[s]*Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1);let e=r[this.isHorizontal?"offsetWidth":"offsetHeight"];e-1>o&&(o=e)}let c=getComputedStyle(r);return"content-box"===c.boxSizing&&(this.isHorizontal?o+=(parseFloat(c.paddingLeft)||0)+(parseFloat(c.paddingRight)||0):o+=(parseFloat(c.paddingTop)||0)+(parseFloat(c.paddingBottom)||0)),a=parseFloat(c[this.isHorizontal?"marginRight":"marginBottom"])||0,l?null===(n=r.parentElement)||void 0===n||n.removeChild(r):e.el||r.remove(),{dim:m(o,1e3),gap:m(a,1e3)}}getBounds(){let{isInfinite:e,isRTL:t,isHorizontal:n,pages:s}=this,o={min:0,max:0};if(e)o={min:-1/0,max:1/0};else if(s.length){let e=s[0].pos,a=s[s.length-1].pos;o=t&&n?{min:e,max:a}:{min:-1*a,max:-1*e}}return{x:n?o:{min:0,max:0},y:n?{min:0,max:0}:o}}repositionSlides(){let e,{isHorizontal:t,isRTL:n,isInfinite:s,viewport:o,viewportDim:a,contentDim:r,page:l,pages:c,slides:h,panzoom:d}=this,u=0,p=0,f=0,g=0;for(let s of(d?g=-1*d.current[this.axis]:c[l]&&(g=c[l].pos||0),e=t?n?"right":"left":"top",n&&t&&(g*=-1),h)){let t=s.el;t?("top"===e?(t.style.right="",t.style.left=""):t.style.top="",s.index!==u?t.style[e]=0===p?"":`${m(p,1e3)}px`:t.style[e]="",f+=s.dim+s.gap,u++):p+=s.dim+s.gap}if(s&&f&&o){let n=getComputedStyle(o),s="padding",l=parseFloat(n[s+(t?"Left":"Top")]);for(let o of(g-=l,a+=l+parseFloat(n[s+(t?"Right":"Bottom")]),h))o.el&&(m(o.pos)<m(a)&&m(o.pos+o.dim+o.gap)<m(g)&&m(g)>m(r-a)&&(o.el.style[e]=`${m(p+f,1e3)}px`),m(o.pos+o.gap)>=m(r-a)&&m(o.pos)>m(g+a)&&m(g)<m(a)&&(o.el.style[e]=`-${m(f,1e3)}px`))}let v,b,y=[...this.inTransition];if(y.length>1&&(v=c[y[0]],b=c[y[1]]),v&&b){let t=0;for(let n of h)n.el?this.inTransition.has(n.index)&&0>v.slides.indexOf(n)&&(n.el.style[e]=`${m(t+(v.pos-b.pos),1e3)}px`):t+=n.dim+n.gap}}createSlideEl(e){let{track:t,slides:n}=this;if(!t||!e||e.el&&e.el.parentNode)return;let s=e.el||document.createElement("div");F(s,this.cn(es)),F(s,e.class),F(s,e.customClass);let o=e.html;o&&(o instanceof HTMLElement?s.appendChild(o):s.innerHTML=e.html+"");let a=[];n.forEach((e,t)=>{e.el&&a.push(t)});let r=e.index,l=null;a.length&&(l=n[a.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e)]);let c=l&&l.el&&l.el.parentNode?l.index<e.index?l.el.nextSibling:l.el:null;t.insertBefore(s,t.contains(c)?c:null),e.el=s,this.emit("createSlide",e)}removeSlideEl(e,t=!1){let n=null==e?void 0:e.el;if(!n||!n.parentNode)return;let s=this.cn(en);if(n.classList.contains(s)&&(D(n,s),this.emit("unselectSlide",e)),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),void(n.style.left="");this.emit("removeSlide",e);let o=new CustomEvent(ei);n.dispatchEvent(o),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var n,s,o,a;if(!t)return!1;let r=this.page,{pages:l,panzoom:c}=this;e=parseInt((e||0).toString())||0;let h=this.getPageFromIndex(e);if(!c||!l[h]||l.length<2||Math.abs(((null===(s=null===(n=l[r])||void 0===n?void 0:n.slides[0])||void 0===s?void 0:s.dim)||0)-this.viewportDim)>1)return!1;let d=e>r?1:-1;this.isInfinite&&(0===r&&e===l.length-1&&(d=-1),r===l.length-1&&0===e&&(d=1));let u=l[h].pos*(this.isRTL?1:-1);if(r===h&&1>Math.abs(u-c.target[this.axis]))return!1;this.clearTransitions();let p=c.isResting;F(this.container,this.cn("inTransition"));let m=(null===(o=l[r])||void 0===o?void 0:o.slides[0])||null,f=(null===(a=l[h])||void 0===a?void 0:a.slides[0])||null;this.inTransition.add(f.index),this.createSlideEl(f);let g=m.el,v=f.el;p||t===es||(t="fadeFast",g=null);let b=this.isRTL?"next":"prev",y=this.isRTL?"prev":"next";return g&&(this.inTransition.add(m.index),m.transition=t,g.addEventListener(ei,this.onAnimationEnd),g.classList.add(`f-${t}Out`,`to-${d>0?y:b}`)),v&&(f.transition=t,v.addEventListener(ei,this.onAnimationEnd),v.classList.add(`f-${t}In`,`from-${d>0?b:y}`)),c.current[this.axis]=u,c.target[this.axis]=u,c.requestTick(),this.onChange(h),!0}manageSlideVisiblity(){let e=new Set,t=new Set,n=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(let s of this.slides)n.has(s)?e.add(s):t.add(s);for(let t of this.inTransition)e.add(this.slides[t]);for(let t of e)this.createSlideEl(t),this.lazyLoadSlide(t);for(let n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;let e="aria-hidden",t=this.cn(en);if(t)for(let n of this.slides){let s=n.el;s&&(s.dataset.index=`${n.index}`,s.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(n)?s.removeAttribute(e):s.setAttribute(e,"true"):this.pages[this.page].slides.includes(n)?(s.classList.contains(t)||(F(s,t),this.emit("selectSlide",n)),s.removeAttribute(e)):(s.classList.contains(t)&&(D(s,t),this.emit("unselectSlide",n)),s.setAttribute(e,"true")))}}flipInfiniteTrack(){let{axis:e,isHorizontal:t,isInfinite:n,isRTL:s,viewportDim:o,contentDim:a}=this,r=this.panzoom;if(!r||!n)return;let l=r.current[e],c=r.target[e]-l,h=0,d=.5*o;s&&t?(l<-d&&(h=-1,l+=a),l>a-d&&(h=1,l-=a)):(l>d&&(h=1,l-=a),l<-a+d&&(h=-1,l+=a)),h&&(r.current[e]=l,r.target[e]=l+c)}lazyLoadImg(e,t){let n=this,s="f-fadeIn",o="is-preloading",a=!1,r=null,l=()=>{a||(a=!0,r&&(r.remove(),r=null),D(t,o),t.complete&&(F(t,s),setTimeout(()=>{D(t,s)},350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(n.updateMetrics(),n.setViewportHeight()),this.emit("load",e))};F(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",()=>{l()}),t.addEventListener("load",()=>{l()}),setTimeout(()=>{let n=t.parentNode;n&&e.el&&(t.complete?l():a||(r=v(R),n.insertBefore(r,t)))},300)}lazyLoadSlide(e){let t=e&&e.el;if(!t)return;let n=new Set,s=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));for(let o of(t.dataset.lazySrc&&s.push(t),s.map(e=>{e instanceof HTMLImageElement?n.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage=`url('${e.dataset.lazySrc}')`,delete e.dataset.lazySrc)}),n))this.lazyLoadImg(e,o)}onAnimationEnd(e){var t;let n=e.target,s=n?parseInt(n.dataset.index||"",10)||0:-1,o=this.slides[s],a=e.animationName;if(!n||!o||!a)return;let r=!!this.inTransition.has(s)&&o.transition;r&&a.substring(0,r.length+2)===`f-${r}`&&this.inTransition.delete(s),this.inTransition.size||this.clearTransitions(),s===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}onDecel(e,t=0,n=0,s=0,o=0){if(this.option("dragFree"))return void this.setPageFromPosition();let{isRTL:a,isHorizontal:r,axis:l,pages:c}=this,h=c.length,d=Math.abs(Math.atan2(n,t)/(Math.PI/180)),u=0;if(u=d>45&&d<135?r?0:n:r?t:0,!h)return;let p=this.page,m=a&&r?1:-1,f=e.current[l]*m,{pageIndex:g}=this.getPageFromPosition(f);Math.abs(u)>5?(c[p].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(p=g),p=a&&r?u<0?p-1:p+1:u<0?p+1:p-1):p=0===s&&0===o?p:g,this.slideTo(p,{transition:!1,friction:e.option("decelFriction")})}onClick(e){let t,n;let s=e.target,o=s&&I(s)?s.dataset:null;o&&(void 0!==o.carouselPage?(n="slideTo",t=o.carouselPage):void 0!==o.carouselNext?n="slideNext":void 0!==o.carouselPrev&&(n="slidePrev")),n?(e.preventDefault(),e.stopPropagation(),s&&!s.hasAttribute("disabled")&&this[n](t)):this.emit("click",e)}onSlideTo(e){let t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){let n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,n=null){this.destroy(),this.state=t.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=n||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:n=this.option("friction"),transition:s=this.option("transition")}={}){if(this.state===t.Destroy)return;e=parseInt((e||0).toString())||0;let o=this.getPageFromIndex(e),{axis:a,isHorizontal:r,isRTL:l,pages:c,panzoom:h}=this,d=c.length,u=l&&r?1:-1;if(!h||!d)return;if(this.page!==o){let t=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",t,e),t.defaultPrevented)return}if(this.transitionTo(e,s))return;let p=c[o].pos;if(this.isInfinite){let t=this.contentDim,n=h.target[a]*u;2===d?p+=t*Math.floor(parseFloat(e+"")/2):p=[p,p-t,p+t].reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})}p*=u,1>Math.abs(h.target[a]-p)||(h.panTo({x:r?p:0,y:r?0:p,friction:n}),this.onChange(o))}slideToClosest(e){if(this.panzoom){let{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),D(this.container,this.cn("inTransition"));let e=["to-prev","to-next","from-prev","from-next"];for(let t of this.slides){let n=t.el;if(n){n.removeEventListener(ei,this.onAnimationEnd),n.classList.remove(...e);let s=t.transition;s&&n.classList.remove(`f-${s}Out`,`f-${s}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var n,s,o,a;let r=this.panzoom,l=(null===(n=this.pages[this.page])||void 0===n?void 0:n.pos)||0,c=(null===(s=this.pages[this.page])||void 0===s?void 0:s.dim)||0,h=this.contentDim<this.viewportDim,d=Array.isArray(t)?t:[t],u=[];for(let e of d)u.push(V(e));this.slides.splice(e,0,...u);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;for(let e of u)this.emit("beforeInitSlide",e,e.index);if(this.page>=e&&(this.page+=u.length),this.updateMetrics(),r){let t=(null===(o=this.pages[this.page])||void 0===o?void 0:o.pos)||0,n=(null===(a=this.pages[this.page])||void 0===a?void 0:a.dim)||0,s=this.pages.length||1,d=this.isRTL?c-n:n-c,u=this.isRTL?l-t:t-l;h&&1===s?(e<=this.page&&(r.current[this.axis]-=d,r.target[this.axis]-=d),r.panTo({[this.isHorizontal?"x":"y"]:-1*t})):u&&e<=this.page&&(r.target[this.axis]-=u,r.current[this.axis]-=u,r.requestTick())}for(let e of u)this.emit("initSlide",e,e.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){let t=this.slides.length;e=(e%t+t)%t;let n=this.slides[e];if(n){this.removeSlideEl(n,!0),this.slides.splice(e,1);for(let e=0;e<this.slides.length;e++)this.slides[e].index=e;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",n)}}updateMetrics(){let{panzoom:e,viewport:n,track:s,slides:o,isHorizontal:a,isInfinite:r}=this;if(!s)return;let l=a?"width":"height";if(n){let e=Math.max(n[a?"offsetWidth":"offsetHeight"],m(n.getBoundingClientRect()[l],1e3)),t=getComputedStyle(n),s="padding";e-=parseFloat(t[s+(a?"Left":"Top")])+parseFloat(t[s+(a?"Right":"Bottom")]),this.viewportDim=e}let c,h=0;for(let[e,t]of o.entries()){let n=0,s=0;!t.el&&c?(n=c.dim,s=c.gap):({dim:n,gap:s}=this.getSlideMetrics(t),c=t),n=m(n,1e3),s=m(s,1e3),t.dim=n,t.gap=s,t.pos=h,h+=n,(r||e<o.length-1)&&(h+=s)}h=m(h,1e3),this.contentDim=h,e&&(e.contentRect[l]=h,e.contentRect[a?"fullWidth":"fullHeight"]=h),this.pages=this.createPages(),this.pages=this.processPages(),this.state===t.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,t=!1,n=!1){void 0===e&&(e=this.page);let s=this.panzoom,o=this.contentDim,a=this.pages[e]||0;if(!a||!s)return e>this.page?-1:1;let r=-1*s.current.e,l=m((r-a.pos)/(1*a.dim),1e3),c=l,h=l;this.isInfinite&&!0!==n&&(c=m((r-a.pos+o)/(1*a.dim),1e3),h=m((r-a.pos-o)/(1*a.dim),1e3));let d=[l,c,h].reduce(function(e,t){return Math.abs(t)<Math.abs(e)?t:e});return t?d:d>1?1:d<-1?-1:d}setViewportHeight(){let{page:e,pages:t,viewport:n,isHorizontal:s}=this;if(!n||!t[e])return;let o=0;s&&this.track&&(this.track.style.height="auto",t[e].slides.forEach(e=>{e.el&&(o=Math.max(o,e.el.offsetHeight))})),n.style.height=o?`${o}px`:""}getPageForSlide(e){for(let t of this.pages)for(let n of t.slides)if(n.index===e)return t.index;return -1}getVisibleSlides(t=0){var n;let s=new Set,{panzoom:o,contentDim:a,viewportDim:r,pages:l,page:c}=this;if(r){a=a+(null===(n=this.slides[this.slides.length-1])||void 0===n?void 0:n.gap)||0;let h=0;h=o&&o.state!==e.Init&&o.state!==e.Destroy?-1*o.current[this.axis]:l[c]&&l[c].pos||0,this.isInfinite&&(h-=Math.floor(h/a)*a),this.isRTL&&this.isHorizontal&&(h*=-1);let d=h-r*t,u=h+r*(t+1),p=this.isInfinite?[-1,0,1]:[0];for(let e of this.slides)for(let t of p){let n=e.pos+t*a,o=n+e.dim+e.gap;n<u&&o>d&&s.add(e)}}return s}getPageFromPosition(e){let{viewportDim:t,contentDim:n,slides:s,pages:o,panzoom:a}=this,r=o.length,l=s.length,c=s[0],h=s[l-1],d=this.option("center"),u=0,p=0,m=void 0===e?-1*((null==a?void 0:a.target[this.axis])||0):e;d&&(m+=.5*t),this.isInfinite?(m<c.pos-.5*h.gap&&(m-=n,p=-1),m>h.pos+h.dim+.5*h.gap&&(m-=n,p=1)):m=Math.max(c.pos||0,Math.min(m,h.pos));let f=h,g=s.find(e=>{let t=e.pos-.5*f.gap,n=e.pos+e.dim+.5*e.gap;return f=e,m>=t&&m<n});return g||(g=h),{page:(u=this.getPageForSlide(g.index))+p*r,pageIndex:u}}setPageFromPosition(){let{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([t.Destroy].includes(this.state))return;this.state=t.Destroy;let{container:e,viewport:n,track:s,slides:o,panzoom:a}=this,r=this.option("classes");for(let[t,l]of(e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),a&&(a.destroy(),this.panzoom=null),o&&o.forEach(e=>{this.removeSlideEl(e)}),this.detachPlugins(),n&&(n.removeEventListener("scroll",this.onScroll),n.offsetParent&&s&&s.offsetParent&&n.replaceWith(...s.childNodes)),Object.entries(r)))"container"!==t&&l&&e.classList.remove(l);this.track=null,this.viewport=null,this.page=0,this.slides=[];let l=this.events.get("ready");this.events=new Map,l&&this.events.set("ready",l)}}Object.defineProperty(eo,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:W}),Object.defineProperty(eo,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(eo,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{Navigation:ee,Dots:G,Sync:et}});let ea=function(e){if(!I(e))return 0;let t=window.scrollY,n=window.innerHeight,s=t+n,o=e.getBoundingClientRect(),a=o.y+t,r=o.height,l=a+r;if(t>l||s<a)return 0;if(t<a&&s>l||a<t&&l>s)return 100;let c=r;return a<t&&(c-=t-a),l>s&&(c-=l-s),Math.round(c/n*100)},er=!("undefined"==typeof window||!window.document||!window.document.createElement),el='a[href],area[href],input:not([disabled]):not([type="hidden"]):not([aria-hidden]),select:not([disabled]):not([aria-hidden]),textarea:not([disabled]):not([aria-hidden]),button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard),iframe,object,embed,video,audio,[contenteditable],[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])',ec=e=>{if(e&&er){void 0===p&&document.createElement("div").focus({get preventScroll(){return p=!0,!1}});try{if(p)e.focus({preventScroll:!0});else{let t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},eh=()=>{let e=document,t,n="",s="",o="";return e.fullscreenEnabled?(n="requestFullscreen",s="exitFullscreen",o="fullscreenElement"):e.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",s="webkitExitFullscreen",o="webkitFullscreenElement"),n&&(t={request:function(t=e.documentElement){return"webkitRequestFullscreen"===n?t[n](Element.ALLOW_KEYBOARD_INPUT):t[n]()},exit:function(){return e[o]&&e[s]()},isFullscreen:function(){return e[o]}}),t},ed={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},k),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};(c=n||(n={}))[c.Init=0]="Init",c[c.Ready=1]="Ready",c[c.Closing=2]="Closing",c[c.CustomClosing=3]="CustomClosing",c[c.Destroy=4]="Destroy",(h=s||(s={}))[h.Loading=0]="Loading",h[h.Opening=1]="Opening",h[h.Ready=2]="Ready",h[h.Closing=3]="Closing";let eu="",ep=!1,em=!1,ef=null,eg=()=>{let e="",t="",n=tm.getInstance();if(n){let s=n.carousel,o=n.getSlide();if(s&&o){let a=o.slug||void 0,r=o.triggerEl||void 0;(t=a||n.option("slug")||"")||!r||!r.dataset||(t=r.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!a&&s.slides.length>1?"-"+(o.index+1):""))}}return{hash:e,slug:t,index:1}},ev=()=>{let e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],s=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:s}},eb=()=>{let{slug:e,index:t}=ev();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);if(n&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),tm.getInstance())return;let s=document.querySelectorAll(`[data-fancybox="${e}"]`);s.length&&(n=s[t-1])&&n.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},ey=()=>{if(!1===tm.defaults.Hash)return;let e=tm.getInstance();if(!1===(null==e?void 0:e.options.Hash))return;let{slug:t,index:n}=ev(),{slug:s}=eg();e&&(t===s?e.jumpTo(n-1):(ep=!0,e.close())),eb()},ew=()=>{ef&&clearTimeout(ef),queueMicrotask(()=>{ey()})},ex=()=>{window.addEventListener("hashchange",ew,!1),setTimeout(()=>{ey()},500)};er&&(/complete|interactive|loaded/.test(document.readyState)?ex():document.addEventListener("DOMContentLoaded",ex));let eS="is-zooming-in";class eE extends U{onCreateSlide(e,t,n){let s=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof s&&this.setImage(n,s)}onRemoveSlide(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}onChange(e,t,n,s){for(let e of(D(this.instance.container,eS),t.slides)){let t=e.panzoom;t&&e.index!==n&&t.reset(.35)}}onClose(){var t;let s=this.instance,o=s.container,a=s.getSlide();if(!o||!o.parentElement||!a)return;let{el:r,contentEl:l,panzoom:c,thumbElSrc:h}=a;if(!r||!h||!l||!c||c.isContentLoading||c.state===e.Init||c.state===e.Destroy)return;c.updateMetrics();let d=this.getZoomInfo(a);if(!d)return;this.instance.state=n.CustomClosing,o.classList.remove(eS),o.classList.add("is-zooming-out"),l.style.backgroundImage=`url('${h}')`;let u=o.getBoundingClientRect();1===((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)&&Object.assign(o.style,{position:"absolute",top:`${o.offsetTop+window.scrollY}px`,left:`${o.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${u.width}px`,height:`${u.height}px`,overflow:"hidden"});let{x:p,y:m,scale:f,opacity:g}=d;if(g){let e=((e,t,n,s)=>{let o=t-e,a=s-n;return t=>n+((t-e)/o*a||0)})(c.scale,f,1,0);c.on("afterTransform",()=>{l.style.opacity=e(c.scale)+""})}c.on("endAnimation",()=>{s.destroy()}),c.target.a=f,c.target.b=0,c.target.c=0,c.target.d=f,c.panTo({x:p,y:m,scale:f,friction:g?.2:.33,ignoreBounds:!0}),c.isResting&&s.destroy()}setImage(e,t){let n=this.instance;e.src=t,this.process(e,t).then(t=>{let{contentEl:o,imageEl:a,thumbElSrc:r,el:l}=e;if(n.isClosing()||!o||!a)return;o.offsetHeight;let c=!!n.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&l){l.addEventListener("contextmenu",e=>{e.preventDefault()});let e=document.createElement("div");F(e,"fancybox-protected"),o.appendChild(e)}if(r&&c){let a=t.contentRect,l=Math.max(a.fullWidth,a.fullHeight),h=null;!c.opacity&&l>1200&&(F(h=document.createElement("img"),"fancybox-ghost"),h.src=r,o.appendChild(h));let d=()=>{h&&(F(h,"f-fadeFastOut"),setTimeout(()=>{h&&(h.remove(),h=null)},200))};new Promise((e,t)=>{let n=new Image;n.onload=e,n.onerror=t,n.src=r}).then(()=>{n.hideLoading(e),e.state=s.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then(()=>{d(),this.instance.done(e)},()=>{}),h&&setTimeout(()=>{d()},l>2500?800:200)},()=>{n.hideLoading(e),n.revealContent(e)})}else{let s=this.optionFor(e,"initialSize"),o=this.optionFor(e,"zoom"),a={event:n.prevMouseMoveEvent||n.options.event,friction:o?.12:0},r=n.optionFor(e,"showClass")||void 0,l=!0;n.isOpeningSlide(e)&&("full"===s?t.zoomToFull(a):"cover"===s?t.zoomToCover(a):"max"===s?t.zoomToMax(a):l=!1,t.stop("current")),l&&r&&(r=t.isDragging?"f-fadeIn":""),n.hideLoading(e),n.revealContent(e,r)}},()=>{n.setError(e,"{{IMAGE_ERROR}}")})}process(e,t){return new Promise((n,s)=>{var o;let a=this.instance,r=e.el;a.clearContent(e),a.showLoading(e);let l=this.optionFor(e,"content");if("string"==typeof l&&(l=v(l)),!l||!I(l)){if((l=document.createElement("img"))instanceof HTMLImageElement){let n="",s=e.caption;n="string"==typeof s&&s?s.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${(null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1}`,l.src=t||"",l.alt=n,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}F(l,"fancybox-image"),e.imageEl=l,a.setContent(e,l,!1),e.panzoom=new W(r,T({transformParent:!0},this.option("Panzoom")||{},{content:l,width:(t,n)=>a.optionFor(e,"width","auto",n)||"auto",height:(t,n)=>a.optionFor(e,"height","auto",n)||"auto",wheel:()=>{let e=a.option("wheel");return("zoom"===e||"pan"==e)&&e},click:(t,n)=>{var s,o;if(a.isCompact||a.isClosing()||e.index!==(null===(s=a.getSlide())||void 0===s?void 0:s.index)||n&&["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(n.composedPath()[0].nodeName))return!1;let r=!n||n.target&&(null===(o=e.contentEl)||void 0===o?void 0:o.contains(n.target));return a.option(r?"contentClick":"backdropClick")||!1},dblClick:()=>a.isCompact?"toggleZoom":a.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:e=>{n(e)},error:()=>{s()},destroy:()=>{s()}}}))})}zoomIn(e){return new Promise((t,n)=>{let o=this.instance,a=o.container,{panzoom:r,contentEl:l,el:c}=e;r&&r.updateMetrics();let h=this.getZoomInfo(e);if(!(h&&c&&l&&r&&a))return void n();let{x:d,y:u,scale:p,opacity:m}=h,f=()=>{e.state!==s.Closing&&(m&&(l.style.opacity=Math.max(Math.min(1,1-(1-r.scale)/(1-p)),0)+""),r.scale>=1&&r.scale>r.targetScale-.1&&t(r))},g=e=>{(e.scale<.99||e.scale>1.01)&&!e.isDragging||(D(a,eS),l.style.opacity="",e.off("endAnimation",g),e.off("touchStart",g),e.off("afterTransform",f),t(e))};r.on("endAnimation",g),r.on("touchStart",g),r.on("afterTransform",f),r.on(["error","destroy"],()=>{n()}),r.panTo({x:d,y:u,scale:p,friction:0,ignoreBounds:!0}),r.stop("current");let v={event:"mousemove"===r.panMode?o.prevMouseMoveEvent||o.options.event:void 0},b=this.optionFor(e,"initialSize");F(a,eS),o.hideLoading(e),"full"===b?r.zoomToFull(v):"cover"===b?r.zoomToCover(v):"max"===b?r.zoomToMax(v):r.reset(.172)})}getZoomInfo(e){let{el:t,imageEl:s,thumbEl:o,panzoom:a}=e,r=this.instance,l=r.container;if(!t||!s||!o||!a||3>ea(o)||!this.optionFor(e,"zoom")||!l||r.state===n.Destroy||"0"===getComputedStyle(l).getPropertyValue("--f-images-zoom"))return!1;let c=window.visualViewport||null;if(1!==(c?c.scale:1))return!1;let{top:h,left:d,width:u,height:p}=o.getBoundingClientRect(),{top:m,left:f,fitWidth:g,fitHeight:v}=a.contentRect;if(!(u&&p&&g&&v))return!1;let b=a.container.getBoundingClientRect();f+=b.left,m+=b.top;let y=-1*(f+.5*g-(d+.5*u)),w=-1*(m+.5*v-(h+.5*p)),x=this.option("zoomOpacity")||!1;return"auto"===x&&(x=Math.abs(u/p-g/v)>.1),{x:y,y:w,scale:u/g,opacity:x}}attach(){let e=this.instance;e.on("Carousel.change",this.onChange),e.on("Carousel.createSlide",this.onCreateSlide),e.on("Carousel.removeSlide",this.onRemoveSlide),e.on("close",this.onClose)}detach(){let e=this.instance;e.off("Carousel.change",this.onChange),e.off("Carousel.createSlide",this.onCreateSlide),e.off("Carousel.removeSlide",this.onRemoveSlide),e.off("close",this.onClose)}}Object.defineProperty(eE,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;let eC="html",eP="image",eT="youtube",eM="vimeo",eL="html5video",eO=(e,t={})=>{let n=new URLSearchParams(new URL(e).search),s=new URLSearchParams;for(let[e,o]of[...n,...Object.entries(t)]){let t=o+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&s.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else s.set(e,t)}let o=s+"",a=e.match(/#t=((.*)?\d+s)/);return a&&(o+=`#t=${a[1]}`),o},eA=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class ek extends U{onBeforeInitSlide(e,t,n){this.processType(n)}onCreateSlide(e,t,n){this.setContent(n)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);let n=t.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null);let s=t.contentEl,o=t.placeholderEl;if("inline"===t.type&&s&&o)s.classList.remove("fancybox__content"),"none"!==getComputedStyle(s).getPropertyValue("display")&&(s.style.display="none"),setTimeout(()=>{o&&(s&&o.parentNode&&o.parentNode.insertBefore(s,o),o.remove())},0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,n){n.state===s.Ready&&this.playVideo()}onUnselectSlide(e,t,n){var s,o;let a;if(n.type===eL){try{null===(o=null===(s=n.el)||void 0===s?void 0:s.querySelector("video"))||void 0===o||o.pause()}catch(e){}return}n.type===eM?a={method:"pause",value:"true"}:n.type===eT&&(a={event:"command",func:"pauseVideo"}),a&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(a),"*"),n.poller&&clearTimeout(n.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach(e=>{e.el&&(this.resizeIframe(e),this.setAspectRatio(e))})}onMessage(e){try{let t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(let t of Array.from(document.getElementsByClassName("fancybox__iframe")))t instanceof HTMLIFrameElement&&t.contentWindow===e.source&&(t.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){let e=document.getElementById(t.id);e&&(e.dataset.ready="true")}}catch(e){}}loadAjaxContent(e){let t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);let s=this.instance,o=new XMLHttpRequest;s.showLoading(e),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&s.state===n.Ready&&(s.hideLoading(e),200===o.status?s.setContent(e,o.responseText):s.setError(e,404===o.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};let a=e.ajax||null;o.open(a?"POST":"GET",t+""),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(a),e.xhr=o}setInlineContent(e){let t=null;if(I(e.src))t=e.src;else if("string"==typeof e.src){let n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){let n=(t=t.cloneNode(!0)).dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);let s=t.getAttribute("id");s=s?`${s}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",s)}else if(t.parentNode){let n=document.createElement("div");n.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(n,t),e.placeholderEl=n}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){let{src:t,el:n}=e;if(!t||"string"!=typeof t||!n)return;n.classList.add("is-loading");let s=this.instance,o=document.createElement("iframe");for(let[t,n]of(o.className="fancybox__iframe",o.setAttribute("id",`fancybox__iframe_${s.id}_${e.index}`),Object.entries(this.optionFor(e,"iframeAttr")||{})))o.setAttribute(t,n);o.onerror=()=>{s.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=o;let a=this.optionFor(e,"preload");if("iframe"!==e.type||!1===a)return o.setAttribute("src",e.src+""),s.setContent(e,o,!1),this.resizeIframe(e),void s.revealContent(e);s.showLoading(e),o.onload=()=>{if(!o.src.length)return;let t="true"!==o.dataset.ready;o.dataset.ready="true",this.resizeIframe(e),t?s.revealContent(e):s.hideLoading(e)},o.setAttribute("src",t),s.setContent(e,o,!1)}resizeIframe(e){let{type:t,iframeEl:n}=e;if(t===eT||t===eM)return;let s=null==n?void 0:n.parentElement;if(!n||!s)return;let o=e.autoSize;void 0===o&&(o=this.optionFor(e,"autoSize"));let a=e.width||0,r=e.height||0;a&&r&&(o=!1);let l=s&&s.style;if(!1!==e.preload&&!1!==o&&l)try{let e=window.getComputedStyle(s),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),o=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),c=n.contentWindow;if(c){let e=c.document,n=e.getElementsByTagName(eC)[0],s=e.body;l.width="",s.style.overflow="hidden",a=a||n.scrollWidth+t,l.width=`${a}px`,s.style.overflow="",l.flex="0 0 auto",l.height=`${s.scrollHeight}px`,r=n.scrollHeight+o}}catch(e){}if(a||r){let e={flex:"0 1 auto",width:"",height:""};a&&"auto"!==a&&(e.width=`${a}px`),r&&"auto"!==r&&(e.height=`${r}px`),Object.assign(l,e)}}playVideo(){let e=this.instance.getSlide();if(!e)return;let{el:t}=e;if(!t||!t.offsetParent||!this.optionFor(e,"videoAutoplay"))return;if(e.type===eL)try{let e=t.querySelector("video");if(e){let t=e.play();void 0!==t&&t.then(()=>{}).catch(t=>{e.muted=!0,e.play()})}}catch(e){}if(e.type!==eT&&e.type!==eM)return;let n=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let t;if("true"===e.iframeEl.dataset.ready)return(t=e.type===eT?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===eT&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}processType(e){if(e.html)return e.type=eC,e.src=e.html,void(e.html="");let t=this.instance.optionFor(e,"src","");if(!t||"string"!=typeof t)return;let n=e.type,s=null;if(s=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){let o=this.optionFor(e,eT),{nocookie:a}=o,r=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)0>t.indexOf(s[o])&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n}(o,["nocookie"]),l=`www.youtube${a?"-nocookie":""}.com`,c=eO(t,r),h=encodeURIComponent(s[2]);e.videoId=h,e.src=`https://${l}/embed/${h}?${c}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${h}/mqdefault.jpg`,n=eT}else if(s=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){let o=eO(t,this.optionFor(e,eM)),a=encodeURIComponent(s[1]),r=s[4]||"";e.videoId=a,e.src=`https://player.vimeo.com/video/${a}?${r?`h=${r}${o?"&":""}`:""}${o}`,n=eM}if(!n&&e.triggerEl){let t=e.triggerEl.dataset.type;eA.includes(t)&&(n=t)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(s=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=eL,e.videoFormat=e.videoFormat||"video/"+("ogv"===s[1]?"ogg":s[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n=eP:t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(s=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${s[1]}/?ll=${(s[2]?s[2]+"&z="+Math.floor(parseFloat(s[3]))+(s[4]?s[4].replace(/^\//,"&"):""):s[4]+"").replace(/\?/,"&")}&output=${s[4]&&s[4].indexOf("layer=c")>0?"svembed":"embed"}`,n="map"):(s=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${s[1]}/maps?q=${s[2].replace("query=","q=").replace("api=1","")}&output=embed`,n="map"),n=n||this.instance.option("defaultType"),e.type=n,n===eP&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){let t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case eC:this.instance.setContent(e,t);break;case eL:let n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"map":case eT:case eM:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){let t=e.contentEl;if(!(e.el&&t&&e.type&&[eT,eM,eL].includes(e.type)))return;let n,s=e.width||"auto",o=e.height||"auto";if("auto"===s||"auto"===o){let t=((n=this.optionFor(e,"videoRatio"))+"").match(/(\d+)\s*\/\s?(\d+)/);n=t&&t.length>2?parseFloat(t[1])/parseFloat(t[2]):parseFloat(n+"")}else s&&o&&(n=s/o);if(!n)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;let a=t.getBoundingClientRect(),r=a.width||1,l=a.height||1;t.style.aspectRatio=n+"",n<r/l?(o="auto"===o?l:Math.min(l,o),t.style.width="auto",t.style.height=`${o}px`):(s="auto"===s?r:Math.min(r,s),t.style.width=`${s}px`,t.style.height="auto")}attach(){let e=this.instance;e.on("Carousel.beforeInitSlide",this.onBeforeInitSlide),e.on("Carousel.createSlide",this.onCreateSlide),e.on("Carousel.selectSlide",this.onSelectSlide),e.on("Carousel.unselectSlide",this.onUnselectSlide),e.on("Carousel.Panzoom.refresh",this.onRefresh),e.on("done",this.onDone),e.on("clearContent",this.onClearContent),window.addEventListener("message",this.onMessage)}detach(){let e=this.instance;e.off("Carousel.beforeInitSlide",this.onBeforeInitSlide),e.off("Carousel.createSlide",this.onCreateSlide),e.off("Carousel.selectSlide",this.onSelectSlide),e.off("Carousel.unselectSlide",this.onUnselectSlide),e.off("Carousel.Panzoom.refresh",this.onRefresh),e.off("done",this.onDone),e.off("clearContent",this.onClearContent),window.removeEventListener("message",this.onMessage)}}Object.defineProperty(ek,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});let ez="play",eR="pause",eI="ready";class eD extends U{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:eI}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==eI}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){"visible"===document.visibilityState?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}onTimerEnd(){let e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();let t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],s=this.option("progressParentEl");if(s||(s=(1===n.length?n[0].el:null)||t.viewport),!s)return null;let o=document.createElement("div");return F(o,"f-progress"),s.prepend(o),this.progressBar=o,o.offsetHeight,o}set(){let e=this,t=e.instance;if(t.pages.length<2||e.timer)return;let n=e.option("timeout");e.state=ez,F(t.container,"has-autoplay");let s=e.createProgressBar();s&&(s.style.transitionDuration=`${n}ms`,s.style.transform="scaleX(1)"),e.timer=setTimeout(()=>{e.timer=null,e.inHover||e.onTimerEnd()},n),e.emit("set")}clear(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.removeProgressBar()}start(){if(this.set(),this.state!==eI){if(this.option("pauseOnHover")){let e=this.instance.container;e.addEventListener("mouseenter",this.onMouseEnter,!1),e.addEventListener("mouseleave",this.onMouseLeave,!1)}document.addEventListener("visibilitychange",this.onVisibilityChange,!1),this.emit("start")}}stop(){let e=this.state,t=this.instance.container;this.clear(),this.state=eI,t.removeEventListener("mouseenter",this.onMouseEnter,!1),t.removeEventListener("mouseleave",this.onMouseLeave,!1),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),D(t,"has-autoplay"),e!==eI&&this.emit("stop")}pause(){this.state===ez&&(this.state=eR,this.clear(),this.emit(eR))}resume(){let e=this.instance;if(e.isInfinite||e.page!==e.pages.length-1){if(this.state!==ez){if(this.state===eR&&!this.inHover){let e=new Event("resume",{bubbles:!0,cancelable:!0});this.emit("resume",e),e.defaultPrevented||this.set()}}else this.set()}else this.stop()}toggle(){this.state===ez||this.state===eR?this.stop():this.start()}attach(){let e=this.instance;e.on("ready",this.onReady),e.on("Panzoom.startAnimation",this.onChange),e.on("Panzoom.endAnimation",this.onSettle),e.on("Panzoom.touchMove",this.onChange)}detach(){let e=this.instance;e.off("ready",this.onReady),e.off("Panzoom.startAnimation",this.onChange),e.off("Panzoom.endAnimation",this.onSettle),e.off("Panzoom.touchMove",this.onChange),this.stop()}}Object.defineProperty(eD,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class eF extends U{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){let t=e.carousel;if(!t)return;let n=e.container;n&&(t.options.Autoplay=T({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:t=>{var o;n.classList.add("has-slideshow"),(null===(o=e.getSlide())||void 0===o?void 0:o.state)!==s.Ready&&t.pause()},stop:()=>{n.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(t,n)=>{var o,a,r;!n||!n.cancelable||(null===(o=e.getSlide())||void 0===o?void 0:o.state)===s.Ready&&(null===(r=null===(a=e.carousel)||void 0===a?void 0:a.panzoom)||void 0===r?void 0:r.isResting)||n.preventDefault()}}}),t.attachPlugins({Autoplay:eD}),this.ref=t.plugins.Autoplay)}onReady(e){let t=e.carousel,n=this.ref;n&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}onDone(e,t){let n=this.ref,s=e.carousel;if(!n||!s)return;let o=t.panzoom;o&&o.on("startAnimation",()=>{e.isCurrentSlide(t)&&n.stop()}),e.isCurrentSlide(t)&&n.resume()}onKeydown(e,t){var n;let s=this.ref;s&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&s.toggle()}attach(){let e=this.instance;e.on("Carousel.init",this.onPrepare),e.on("Carousel.ready",this.onReady),e.on("done",this.onDone),e.on("keydown",this.onKeydown)}detach(){let e=this.instance;e.off("Carousel.init",this.onPrepare),e.off("Carousel.ready",this.onReady),e.off("done",this.onDone),e.off("keydown",this.onKeydown)}}Object.defineProperty(eF,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:e=>{var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});let ej={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};(d=o||(o={}))[d.Init=0]="Init",d[d.Ready=1]="Ready",d[d.Hidden=2]="Hidden";let eH="isResting",eq="thumbWidth",eB="thumbHeight",eN="thumbClipWidth",e_=class extends U{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:o.Init})}get isModern(){return"modern"===this.type}onInitSlide(e,t){let n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[eN]=parseFloat(n[eN]||"")||t[eN]||0,t[eB]=parseFloat(n.thumbHeight||"")||t[eB]||0),this.addSlide(t)}onInitSlides(){this.build()}onChange(){var e;if(!this.isModern)return;let t=this.container,n=this.instance,s=n.panzoom,o=this.carousel,a=o?o.panzoom:null,r=n.page;if(s&&o&&a){if(s.isDragging){D(t,this.cn(eH));let s=(null===(e=o.pages[r])||void 0===e?void 0:e.pos)||0;s+=n.getProgress(r)*(this[eN]+this.thumbGap);let l=a.getBounds();-1*s>l.x.min&&-1*s<l.x.max&&a.panTo({x:-1*s,friction:.12})}else y(t,this.cn(eH),s.isResting);this.shiftModern()}}onRefresh(){for(let e of(this.updateProps(),this.instance.slides||[]))this.resizeModernSlide(e);this.shiftModern()}isDisabled(){let e=this.option("minCount")||0;if(e){let t=this.instance,n=0;for(let e of t.slides||[])e.thumbSrc&&n++;if(n<e)return!0}return 0>["modern","classic"].indexOf(this.option("type"))}getThumb(e){let t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(e){let t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}getSlides(){let e=[];for(let t of this.instance.slides||[])e.push(this.getThumb(t));return e}resizeModernSlide(e){this.isModern&&(e[eq]=e[eN]&&e[eB]?Math.round(this[eB]*(e[eN]/e[eB])):this[eq])}updateProps(){let e=this.container;if(!e)return;let t=t=>parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[eq]=t("width")||40,this[eN]=t("clip-width")||40,this[eB]=t("height")||40}build(){let e=this;if(e.state!==o.Init)return;if(e.isDisabled())return void e.emit("disabled");let t=e.instance,n=t.container,s=e.getSlides(),a=e.option("type");e.type=a;let r=e.option("parentEl"),l=e.cn("container"),c=e.cn("track"),h=null==r?void 0:r.querySelector("."+l);h||(F(h=document.createElement("div"),l),r?r.appendChild(h):n.after(h)),F(h,`is-${a}`),F(n,e.cn("hasThumbs")),e.container=h,e.updateProps();let d=h.querySelector("."+c);d||(F(d=document.createElement("div"),e.cn("track")),h.appendChild(d)),e.track=d;let u=T({},{track:d,infinite:!1,center:!0,fill:"classic"===a,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:s}),p=new t.constructor(h,u);p.on("createSlide",(t,n)=>{e.setProps(n.index),e.emit("createSlide",n,n.el)}),p.on("ready",()=>{e.shiftModern(),e.emit("ready")}),p.on("refresh",()=>{e.shiftModern()}),p.on("Panzoom.click",(t,n,s)=>{e.onClick(s)}),e.carousel=p,e.state=o.Ready}onClick(e){e.preventDefault(),e.stopPropagation();let t=this.instance,{pages:n,page:s}=t,o=e=>{if(e){let t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},a=(e,t)=>{let n=document.elementFromPoint(e,t);return n?o(n):[-1,void 0]},[r,l]=o(e.target);if(r>-1)return;let c=this[eN],h=e.clientX,d=e.clientY,[u,p]=a(h-c,d),[m,f]=a(h+c,d);p&&f?(r=Math.abs(h-p.getBoundingClientRect().right)<Math.abs(h-f.getBoundingClientRect().left)?u:m)===s&&(r=r===u?m:u):p?r=u:f&&(r=m),r>-1&&n[r]&&t.slideTo(r)}getShift(e){var t;let{instance:n}=this,s=this.carousel;if(!n||!s)return 0;let o=this[eq],a=this[eN],r=this.thumbGap,l=this.thumbExtraGap;if(!(null===(t=s.slides[e])||void 0===t?void 0:t.el))return 0;let c=n.pages.length-1,h=n.getProgress(0),d=n.getProgress(c),u=n.getProgress(e,!1,!0),p=0,m=.5*(o-a)+l+r,f=h<0&&h>-1,g=d>0&&d<1;return 0===e?(p=m*Math.abs(h),g&&1===h&&(p-=m*Math.abs(d))):e===c?(p=-(m*Math.abs(d)*1),f&&-1===d&&(p+=m*Math.abs(h))):p=f||g?-1*m+m*Math.abs(h)+m*(1-Math.abs(d)):m*u,p}setProps(e){var t;if(!this.isModern)return;let{instance:n}=this,s=this.carousel;if(n&&s){let o=null===(t=s.slides[e])||void 0===t?void 0:t.el;if(o&&o.childNodes.length){let t=m(1-Math.abs(n.getProgress(e))),s=m(this.getShift(e));o.style.setProperty("--progress",t?t+"":""),o.style.setProperty("--shift",s+"")}}}shiftModern(){if(!this.isModern)return;let{instance:t,track:n}=this,s=t.panzoom,o=this.carousel;if(!(t&&n&&s&&o)||s.state===e.Init||s.state===e.Destroy)return;for(let e of t.slides)this.setProps(e.index);let a=(this[eN]+this.thumbGap)*(o.slides.length||0);n.style.setProperty("--width",a+"")}cleanup(){this.carousel&&this.carousel.destroy(),this.carousel=null,this.container&&this.container.remove(),this.container=null,this.track&&this.track.remove(),this.track=null,this.state=o.Init,D(this.instance.container,this.cn("hasThumbs"))}attach(){let e=this.instance;e.on("initSlide",this.onInitSlide),e.state===t.Init?e.on("initSlides",this.onInitSlides):this.onInitSlides(),e.on(["change","Panzoom.afterTransform"],this.onChange),e.on("Panzoom.refresh",this.onRefresh)}detach(){let e=this.instance;e.off("initSlide",this.onInitSlide),e.off("initSlides",this.onInitSlides),e.off(["change","Panzoom.afterTransform"],this.onChange),e.off("Panzoom.refresh",this.onRefresh),this.cleanup()}};Object.defineProperty(e_,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ej});let e$=Object.assign(Object.assign({},ej),{key:"t",showOnStart:!0,parentEl:null}),eW="is-masked",eX="aria-hidden";class eY extends U{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){let e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var n,s,o;let a=(null===(o=null===(s=null===(n=this.instance)||void 0===n?void 0:n.carousel)||void 0===s?void 0:s.slides[t.index])||void 0===o?void 0:o.type)||"",r=t.el;if(r&&a){let e=`for-${a}`;["video","youtube","vimeo","html5video"].includes(a)&&(e+=" for-video"),F(r,e)}}onInit(){var e;let t=this,n=t.instance,s=n.carousel;if(t.ref||!s)return;let a=t.option("parentEl")||n.footer||n.container;if(!a)return;let r=T({},t.options,{parentEl:a,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:n.option("Carousel.friction")||0}},on:{ready:e=>{let n=e.container;n&&this.hidden&&(t.refresh(),n.style.transition="none",t.hide(),n.offsetHeight,queueMicrotask(()=>{n.style.transition="",t.show()}))}}});r.Carousel=r.Carousel||{},r.Carousel.on=T((null===(e=t.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),s.options.Thumbs=r,s.attachPlugins({Thumbs:e_}),t.ref=s.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=o.Hidden,t.hidden=!0)}onResize(){var e;let t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){let n=this.option("key");n&&n===t&&this.toggle()}toggle(){let e=this.ref;if(e&&!e.isDisabled())return e.state===o.Hidden?(e.state=o.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){let e=this.ref;if(!e||e.isDisabled())return;let t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(eX),t.classList.remove(eW),this.hidden=!1)}hide(){let e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(eW),t.setAttribute(eX,"true")),this.hidden=!0}refresh(){let e=this.ref;if(!e||!e.state)return;let t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight=`${n.getBoundingClientRect().height}px`)}attach(){let e=this.instance;e.state===n.Init?e.on("Carousel.init",this.onInit):this.onInit(),e.on("resize",this.onResize),e.on("keydown",this.onKeydown)}detach(){var e;let t=this.instance;t.off("Carousel.init",this.onInit),t.off("resize",this.onResize),t.off("keydown",this.onKeydown),null===(e=t.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),this.ref=null}}Object.defineProperty(eY,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:e$});let eV={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};(u=a||(a={}))[u.Init=0]="Init",u[u.Ready=1]="Ready",u[u.Disabled=2]="Disabled";let eZ={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},eU="has-toolbar",eG="fancybox__toolbar";class eK extends U{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:a.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let n=this.option("display"),s=this.option("absolute"),o=this.option("enabled");if("auto"===o){let e=this.instance.carousel,t=0;if(e)for(let n of e.slides)(n.panzoom||"image"===n.type)&&t++;t||(o=!1)}o||(n=void 0);let r=0,l={left:[],middle:[],right:[]};if(n)for(let e of["left","middle","right"])for(let s of n[e]){let n=this.createEl(s);n&&(null===(t=l[e])||void 0===t||t.push(n),r++)}let c=null;if(r&&(c=this.createContainer()),c){for(let[e,t]of Object.entries(l)){let n=document.createElement("div");for(let s of(F(n,eG+"__column is-"+e),t))n.appendChild(s);"auto"!==s||"middle"!==e||t.length||(s=!0),c.appendChild(n)}!0===s&&F(c,"is-absolute"),this.state=a.Ready,this.onRefresh()}else this.state=a.Disabled}onClick(e){var t,n;let s=this.instance,o=s.getSlide(),a=null==o?void 0:o.panzoom,r=e.target,l=r&&I(r)?r.dataset:null;if(!l)return;if(void 0!==l.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=s.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==l.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==l.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();let t=null===(n=s.carousel)||void 0===n?void 0:n.plugins.Autoplay,o=t.isActive;return a&&"mousemove"===a.panMode&&!o&&a.reset(),void(o?t.stop():t.start())}let c=l.panzoomAction,h=l.panzoomChange;if((h||c)&&(e.preventDefault(),e.stopPropagation()),h){let e={};try{e=JSON.parse(h)}catch(e){}a&&a.applyChange(e)}else c&&a&&a[c]&&a[c]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;let e=this.container;if(!e)return;let t=this.instance.getSlide();if(!t||t.state!==s.Ready)return;let n=t&&!t.error&&t.panzoom;for(let t of e.querySelectorAll("[data-panzoom-action]"))n?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));let o=n&&n.canZoomIn(),a=n&&n.canZoomOut();for(let t of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))o?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(let t of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))a?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));for(let t of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){a||o?(t.removeAttribute("disabled"),t.removeAttribute("tabindex")):(t.setAttribute("disabled",""),t.setAttribute("tabindex","-1"));let e=t.querySelector("g");e&&(e.style.display=o?"":"none")}}onDone(e,t){var n;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){let e=this.instance.container;if(!e)return null;let t=this.option("parentEl")||e,n=t.querySelector("."+eG);return n||(F(n=document.createElement("div"),eG),t.prepend(n)),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&F(e,eU),this.container=n,n}createEl(e){let t=this.instance,n=t.carousel;if(!n||"toggleFS"===e||"fullscreen"===e&&!eh())return null;let s=null,o=n.slides.length||0,a=0,r=0;for(let e of n.slides)(e.panzoom||"image"===e.type)&&a++,("image"===e.type||e.downloadSrc)&&r++;if(o<2&&["infobar","prev","next"].includes(e))return s;if(void 0!==eV[e]&&!a||"download"===e&&!r)return null;if("thumbs"===e){let e=t.plugins.Thumbs;if(!e||!e.isEnabled)return null}if("slideshow"===e&&(!n.plugins.Autoplay||o<2))return null;if(void 0!==eV[e]){let t=eV[e];(s=document.createElement("button")).setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),F(s,"f-button"),t.action&&(s.dataset.panzoomAction=t.action),t.change&&(s.dataset.panzoomChange=JSON.stringify(t.change)),s.appendChild(v(this.instance.localize(t.icon)))}else{let t=(this.option("items")||[])[e];t&&(s=v(this.instance.localize(t.tpl)),"function"==typeof t.click&&s.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof t.click&&t.click.call(this,this,e)}))}let l=null==s?void 0:s.querySelector("svg");if(l)for(let[e,t]of Object.entries(eZ))l.getAttribute(e)||l.setAttribute(e,String(t));return s}removeContainer(){let e=this.container;e&&e.remove(),this.container=null,this.state=a.Disabled;let t=this.instance.container;t&&D(t,eU)}attach(){let e=this.instance;e.on("Carousel.initSlides",this.onReady),e.on("done",this.onDone),e.on(["reveal","Carousel.change"],this.onChange),this.onReady(this.instance)}detach(){let e=this.instance;e.off("Carousel.initSlides",this.onReady),e.off("done",this.onDone),e.off(["reveal","Carousel.change"],this.onChange),this.removeContainer()}}Object.defineProperty(eK,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});let eJ="with-fancybox",eQ="hide-scrollbar",e0="--fancybox-scrollbar-compensate",e1="--fancybox-body-margin",e2="aria-hidden",e5="is-using-tab",e3="is-animated",e4="is-compact",e6="is-loading",e8="is-opening",e9="has-caption",e7="disabled",te="tabindex",tt="download",ti="href",tn=e=>"string"==typeof e,ts=function(){var e=window.getSelection();return!!e&&"Range"===e.type},to,ta=null,tr=null,tl=0,tc=0,th=0,td=0,tu=new Map,tp=0;class tm extends O{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},s={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:n.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),to||(to=eh()),this.id=t.id||++tp,tu.set(this.id,this),this.userSlides=e,this.userPlugins=s,queueMicrotask(()=>{this.init()})}init(){if(this.state===n.Destroy)return;this.state=n.Init,this.attachPlugins(Object.assign(Object.assign({},tm.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&(()=>{if(!er)return;let e=document,t=e.body,n=e.documentElement;if(t.classList.contains(eQ))return;let s=window.innerWidth-n.getBoundingClientRect().width,o=parseFloat(window.getComputedStyle(t).marginRight);s<0&&(s=0),n.style.setProperty(e0,`${s}px`),o&&t.style.setProperty(e1,`${o}px`),t.classList.add(eQ)})(),this.initLayout(),this.scale();let e=()=>{this.initCarousel(this.userSlides),this.state=n.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(e2,"false")},16)};this.option("Fullscreen.autoStart")&&to&&!to.isFullscreen()?to.request().then(()=>{this.startedFs=!0,e()}).catch(()=>e()):e()}initLayout(){var e,t;let n=this.option("parentEl")||document.body,s=v(this.localize(this.option("tpl.main")||""));if(s){if(s.setAttribute("id",`fancybox-${this.id}`),s.setAttribute("aria-label",this.localize("{{MODAL}}")),s.classList.toggle(e4,this.isCompact),F(s,this.option("mainClass")||""),F(s,e8),this.container=s,this.footer=s.querySelector(".fancybox__footer"),n.appendChild(s),F(document.documentElement,eJ),ta&&tr||(F(ta=document.createElement("span"),"fancybox-focus-guard"),ta.setAttribute(te,"0"),ta.setAttribute(e2,"true"),ta.setAttribute("aria-label","Focus guard"),tr=ta.cloneNode(),null===(e=s.parentElement)||void 0===e||e.insertBefore(ta,s),null===(t=s.parentElement)||void 0===t||t.append(tr)),s.addEventListener("mousedown",e=>{tl=e.pageX,tc=e.pageY,D(s,e5)}),this.option("closeExisting"))for(let e of tu.values())e.id!==this.id&&e.close();else this.option("animated")&&(F(s,e3),setTimeout(()=>{this.isClosing()||D(s,e3)},350));this.emit("initLayout")}}initCarousel(e){let t=this.container;if(!t)return;let n=t.querySelector(".fancybox__carousel");if(!n)return;let s=this.carousel=new eo(n,T({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));s.on("*",(e,t,...n)=>{this.emit(`Carousel.${t}`,e,...n)}),s.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(e,t,n)=>{this.clearContent(n),n.state=void 0}),s.on("Panzoom.touchStart",()=>{var e,t;this.isCompact||this.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=this.container)||void 0===t||t.focus())}),s.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(s.on("Panzoom.afterTransform",(e,t)=>{let n=this.getSlide();if(n&&f(n.el))return;let s=this.container;if(s){let e=Math.abs(t.current.f),n=e<1?"":Math.max(.5,Math.min(1,1-e/t.contentRect.fitHeight*1.5));s.style.setProperty("--fancybox-ts",n?"0s":""),s.style.setProperty("--fancybox-opacity",n+"")}}),s.on("Panzoom.touchEnd",(e,t,n)=>{var s;let o=this.getSlide();if(o&&f(o.el)||t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(s=document.activeElement)||void 0===s?void 0:s.nodeName))return;let a=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(a>=200||a>=50&&t.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),this.close(n,"f-throwOut"+(t.current.f<0?"Up":"Down")))})),s.on("change",e=>{var t;let n=null===(t=this.getSlide())||void 0===t?void 0:t.triggerEl;if(n){let t=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(t)}}),s.on(["refresh","change"],e=>{let t=this.container;if(!t)return;for(let n of t.querySelectorAll("[data-fancybox-current-index]"))n.innerHTML=e.page+1;for(let n of t.querySelectorAll("[data-fancybox-count]"))n.innerHTML=e.pages.length;if(!e.isInfinite){for(let n of t.querySelectorAll("[data-fancybox-next]"))e.page<e.pages.length-1?(n.removeAttribute(e7),n.removeAttribute(te)):(n.setAttribute(e7,""),n.setAttribute(te,"-1"));for(let n of t.querySelectorAll("[data-fancybox-prev]"))e.page>0?(n.removeAttribute(e7),n.removeAttribute(te)):(n.setAttribute(e7,""),n.setAttribute(te,"-1"))}let n=this.getSlide();if(!n)return;let s=n.downloadSrc||"";for(let e of(s||"image"!==n.type||n.error||!tn(n.src)||(s=n.src),t.querySelectorAll("[data-fancybox-download]"))){let t=n.downloadFilename;s?(e.removeAttribute(e7),e.removeAttribute(te),e.setAttribute(ti,s),e.setAttribute(tt,t||s),e.setAttribute("target","_blank")):(e.setAttribute(e7,""),e.setAttribute(te,"-1"),e.removeAttribute(ti),e.removeAttribute(tt))}}),this.emit("initCarousel")}attachEvents(){let e=this.container;if(!e)return;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",this.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",this.onVisibilityChange,!1),document.addEventListener("mousemove",this.onMousemove),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),window.addEventListener("resize",this.onResize);let t=window.visualViewport;t&&(t.addEventListener("scroll",this.onResize),t.addEventListener("resize",this.onResize))}detachEvents(){let e=this.container;if(!e)return;document.removeEventListener("keydown",this.onKeydown,{passive:!1,capture:!0}),e.removeEventListener("wheel",this.onWheel,{passive:!1,capture:!1}),e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("resize",this.onResize);let t=window.visualViewport;t&&(t.removeEventListener("resize",this.onResize),t.removeEventListener("scroll",this.onResize)),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),document.removeEventListener("focus",this.onFocus,!0)}scale(){let e=this.container;if(!e)return;let t=window.visualViewport,n=Math.max(1,(null==t?void 0:t.scale)||1),s="",o="",a="";if(t&&n>1){let e=`${t.offsetLeft}px`,r=`${t.offsetTop}px`;s=t.width*n+"px",o=t.height*n+"px",a=`translate3d(${e}, ${r}, 0) scale(${1/n})`}e.style.transform=a,e.style.width=s,e.style.height=o}onClick(e){var t;let{container:n,isCompact:s}=this;if(!n||this.isClosing())return;!s&&this.option("idle")&&this.resetIdle();let o=e.composedPath()[0];if(o.closest(".fancybox-spinner")||o.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(o.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(o.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if("click"===e.type&&0===e.detail||Math.abs(e.pageX-tl)>30||Math.abs(e.pageY-tc)>30)return;let a=document.activeElement;if(ts()&&a&&n.contains(a))return;if(s&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",e),e.defaultPrevented)return;let r=!1;if(o.closest(".fancybox__content")){if(a){if(a.closest("[contenteditable]"))return;o.matches(el)||a.blur()}if(ts())return;r=this.option("contentClick")}else o.closest(".fancybox__carousel")&&!o.matches(el)&&(r=this.option("backdropClick"));"close"===r?(e.preventDefault(),this.close(e)):"next"===r?(e.preventDefault(),this.next()):"prev"===r&&(e.preventDefault(),this.prev())}onWheel(e){let t=e.target,n=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(n="slide");let s="slide"===n,o=Math.max(-1,Math.min(1,[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}))),a=Date.now();this.pwt&&a-this.pwt<300?s&&e.preventDefault():(this.pwt=a,this.emit("wheel",e,o),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"===n&&(g(t)||(e.preventDefault(),this[o>0?"prev":"next"]()))))}onScroll(){window.scrollTo(th,td)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();let t=e.key,n=this.option("keyboard");if(!n)return;let s=e.composedPath()[0],o=document.activeElement&&document.activeElement.classList,a=o&&o.contains("f-button")||s.dataset.carouselPage||s.dataset.carouselIndex;if("Escape"!==t&&!a&&I(s)&&(s.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(s.nodeName))||("Tab"===e.key?F(this.container,e5):D(this.container,e5),e.ctrlKey||e.altKey||e.shiftKey))return;this.emit("keydown",t,e);let r=n[t];r&&"function"==typeof this[r]&&(e.preventDefault(),this[r]())}onResize(){let e=this.container;if(!e)return;let t=this.isCompact;e.classList.toggle(e4,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}manageCloseBtn(e){let t=this.optionFor(e,"closeButton")||!1;if("auto"===t){let e=this.plugins.Toolbar;if(e&&e.state===a.Ready)return}if(!t||!e.contentEl||e.closeBtnEl)return;let n=this.option("tpl.closeButton");if(n){let t=v(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(t),e.el&&F(e.el,"has-close-btn")}}manageCaption(e){var t,n;let s="fancybox__caption",o=this.container;if(!o)return;D(o,e9);let a=this.isCompact||this.option("commonCaption"),r=!a;if(this.caption&&this.stop(this.caption),r&&this.caption&&(this.caption.remove(),this.caption=null),a&&!this.caption)for(let e of(null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])e.captionEl&&(e.captionEl.remove(),e.captionEl=void 0,D(e.el,e9),null===(n=e.el)||void 0===n||n.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||a&&!this.isCurrentSlide(e))return;let l=e.el,c=this.optionFor(e,"caption","");if(!c)return void(a&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let h=null;if(r){if(h=e.captionEl||null,l&&!h){let t=s+`_${this.id}_${e.index}`;F(h=document.createElement("div"),s),h.setAttribute("id",t),e.captionEl=l.appendChild(h),F(l,e9),l.setAttribute("aria-labelledby",t)}}else(h=this.caption)||(h=o.querySelector("."+s)),h||((h=document.createElement("div")).dataset.fancyboxCaption="",F(h,s),(this.footer||o).prepend(h)),F(o,e9),this.caption=h;h&&(h.innerHTML="",tn(c)||"number"==typeof c?h.innerHTML=c+"":c instanceof HTMLElement&&h.appendChild(c))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;let n=document.activeElement||null,o=(null==e?void 0:e.target)||null,a=this.container,r=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(!a||!r||!e&&n&&a.contains(n))return;let l=this.getSlide(),c=l&&l.state===s.Ready?l.el:null;if(!c||c.contains(n)||a===n)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;let h=Array.from(a.querySelectorAll(el)),d=[],u=null;for(let e of h){let t=!e.offsetParent||!!e.closest('[aria-hidden="true"]'),n=c&&c.contains(e),s=!r.contains(e);if(e===a||(n||s)&&!t){d.push(e);let t=e.dataset.origTabindex;void 0!==t&&t&&(e.tabIndex=parseFloat(t)),e.removeAttribute("data-orig-tabindex"),!e.hasAttribute("autoFocus")&&u||(u=e)}else{let t=void 0===e.dataset.origTabindex?e.getAttribute("tabindex")||"":e.dataset.origTabindex;t&&(e.dataset.origTabindex=t),e.tabIndex=-1}}let p=null;e?(!o||0>d.indexOf(o))&&(p=u||a,d.length&&(n===tr?p=d[0]:this.lastFocus!==a&&n!==ta||(p=d[d.length-1]))):p=l&&"image"===l.type?a:u||a,p&&ec(p),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){let e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){let e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return(null===(e=tm.getInstance())||void 0===e?void 0:e.id)==this.id}animate(e=null,t="",n){if(!e||!t)return void(n&&n());this.stop(e);let s=o=>{o.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",s),delete e.dataset.animationName,n&&n(),D(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",s),F(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",n=!0){if(this.isClosing())return;let s=e.el;if(!s)return;let o=null;if(I(t)?o=t:I(o=v(t+""))||((o=document.createElement("div")).innerHTML=t+""),["img","picture","iframe","video","audio"].includes(o.nodeName.toLowerCase())){let e=document.createElement("div");e.appendChild(o),o=e}I(o)&&e.filter&&!e.error&&(o=o.querySelector(e.filter)),o&&I(o)?(F(o,"fancybox__content"),e.id&&o.setAttribute("id",e.id),s.classList.add(`has-${e.error?"error":e.type||"unknown"}`),s.prepend(o),"none"===o.style.display&&(o.style.display=""),"none"===getComputedStyle(o).getPropertyValue("display")&&(o.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=o,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){let n=e.el,o=e.contentEl;n&&o&&(this.emit("reveal",e),this.hideLoading(e),e.state=s.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(o,t,()=>{this.done(e)}):this.done(e))}done(e){this.isClosing()||(e.state=s.Ready,this.emit("done",e),F(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask(()=>{var t;null===(t=e.panzoom)||void 0===t||t.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(e)&&(D(this.container,e8),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){let t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}showLoading(e){e.state=s.Loading;let t=e.el;t&&(F(t,e6),this.emit("loading",e),e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===s.Loading){let n=v(R);F(n,"fancybox-spinner"),e.spinnerEl=n,t.prepend(n),this.animate(n,"f-fadeIn")}},250))}hideLoading(e){let t=e.el;if(!t)return;let n=e.spinnerEl;this.isClosing()?null==n||n.remove():(D(t,e6),n&&this.animate(n,"f-fadeOut",()=>{n.remove()}),e.state===s.Loading&&(this.emit("loaded",e),e.state=s.Ready))}setError(e,t){if(this.isClosing())return;let n=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",n,e),n.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);let s=document.createElement("div");s.classList.add("fancybox-error"),s.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,s)}clearContent(e){if(void 0===e.state)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);let t=e.el;t&&(D(t,"has-error"),D(t,"has-unknown"),D(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;let t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;let n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),n.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());let s=()=>{this.proceedClose(e,t)};this.startedFs&&to&&to.isFullscreen()?Promise.resolve(to.exit()).then(()=>s()):s()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){let t=()=>{this.clearIdle(),this.idle=!0,F(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing()){if(e)t();else{let e=this.option("idle");e&&(this.idleTimer=setTimeout(t,e))}}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,D(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){to&&(to.isFullscreen()?to.exit():to.request().then(()=>{this.startedFs=!0}))}isClosing(){return[n.Closing,n.CustomClosing,n.Destroy].includes(this.state)}proceedClose(e,t){var o,a;this.state=n.Closing,this.clearIdle(),this.detachEvents();let r=this.container,l=this.carousel,c=this.getSlide(),h=c&&this.option("placeFocusBack")?c.triggerEl||this.option("triggerEl"):null;if(h&&(ea(h)?ec(h):h.focus()),r&&(D(r,e8),F(r,"is-closing"),r.setAttribute(e2,"true"),this.option("animated")&&F(r,e3),r.style.pointerEvents="none"),l)for(let e of(l.clearTransitions(),null===(o=l.panzoom)||void 0===o||o.destroy(),null===(a=l.plugins.Navigation)||void 0===a||a.detach(),l.slides)){e.state=s.Closing,this.hideLoading(e);let t=e.contentEl;t&&this.stop(t);let n=null==e?void 0:e.panzoom;n&&(n.stop(),n.detachEvents(),n.detachObserver()),this.isCurrentSlide(e)||l.emit("removeSlide",e)}th=window.scrollX,td=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==n.CustomClosing?(void 0===t&&c&&(t=this.optionFor(c,"hideClass")),t&&c?(this.animate(c.contentEl,t,()=>{l&&l.emit("removeSlide",c)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var e;if(this.state===n.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=n.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();let t=this.container;t&&t.remove(),tu.delete(this.id);let s=tm.getInstance();s?s.focus():(ta&&(ta.remove(),ta=null),tr&&(tr.remove(),tr=null),D(document.documentElement,eJ),(()=>{if(!er)return;let e=document,t=e.body;t.classList.remove(eQ),t.style.setProperty(e1,""),e.documentElement.style.setProperty(e0,"")})(),this.emit("destroy"))}static bind(e,t,n){if(!er)return;let s,o="",a={};if(void 0===e?s=document.body:tn(e)?(s=document.body,o=e,"object"==typeof t&&(a=t||{})):(s=e,tn(t)&&(o=t),"object"==typeof n&&(a=n||{})),!s||!I(s))return;o=o||"[data-fancybox]";let r=tm.openers.get(s)||new Map;r.set(o,a),tm.openers.set(s,r),1===r.size&&s.addEventListener("click",tm.fromEvent)}static unbind(e,t){let n,s="";if(tn(e)?(n=document.body,s=e):(n=e,tn(t)&&(s=t)),!n)return;let o=tm.openers.get(n);o&&s&&o.delete(s),s&&o||(tm.openers.delete(n),n.removeEventListener("click",tm.fromEvent))}static destroy(){let e;for(;e=tm.getInstance();)e.destroy();for(let e of tm.openers.keys())e.removeEventListener("click",tm.fromEvent);tm.openers=new Map}static fromEvent(e){let t,n,s,o;if(e.defaultPrevented||e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)return;let a=e.composedPath()[0],r=a.closest("[data-fancybox-trigger]");if(r){let e=r.dataset.fancyboxTrigger||"";a=document.querySelectorAll(`[data-fancybox="${e}"]`)[parseInt(r.dataset.fancyboxIndex||"",10)||0]||a}if(!(a&&a instanceof Element)||([...tm.openers].reverse().find(([e,r])=>!(!e.contains(a)||![...r].reverse().find(([r,l])=>{let c=a.closest(r);return!!c&&(t=e,n=r,s=c,o=l,!0)}))),!t||!n||!s))return;o=o||{},e.preventDefault(),a=s;let l=[],c=T({},ed,o);c.event=e,c.triggerEl=a,c.delegate=r;let h=c.groupAll,d=c.groupAttr,u=d&&a?a.getAttribute(`${d}`):"";if((!a||u||h)&&(l=[].slice.call(t.querySelectorAll(n))),a&&!h&&(l=u?l.filter(e=>e.getAttribute(`${d}`)===u):[a]),!l.length)return;let p=tm.getInstance();return p&&p.options.triggerEl&&l.indexOf(p.options.triggerEl)>-1?void 0:(a&&(c.startIndex=l.indexOf(a)),tm.fromNodes(l,c))}static fromSelector(e,t,n){let s=null,o="",a={};if(tn(e)?(s=document.body,o=e,"object"==typeof t&&(a=t||{})):e instanceof HTMLElement&&tn(t)&&(s=e,o=t,"object"==typeof n&&(a=n||{})),!s||!o)return!1;let r=tm.openers.get(s);return!!r&&!!(a=T({},r.get(o)||{},a))&&tm.fromNodes(Array.from(s.querySelectorAll(o)),a)}static fromNodes(e,t){t=T({},ed,t||{});let n=[];for(let s of e){let e,o;let a=s.dataset||{},r=a.src||s.getAttribute(ti)||s.getAttribute("currentSrc")||s.getAttribute("src")||void 0,l=t.delegate;l&&n.length===t.startIndex&&(e=l instanceof HTMLImageElement?l:l.querySelector("img:not([aria-hidden])")),e||(e=s instanceof HTMLImageElement?s:s.querySelector("img:not([aria-hidden])")),!e||(o=e.currentSrc||e.src||void 0)||!e.dataset||(o=e.dataset.lazySrc||e.dataset.src||void 0);let c={src:r,triggerEl:s,thumbEl:e,thumbElSrc:o,thumbSrc:o};for(let e in a){let t=a[e]+"";t="false"!==t&&("true"===t||t),c[e]=t}n.push(c)}return new tm(n,t)}static getInstance(e){return e?tu.get(e):Array.from(tu.values()).reverse().find(e=>!e.isClosing()&&e)||null}static getSlide(){var e;return(null===(e=tm.getInstance())||void 0===e?void 0:e.getSlide())||null}static show(e=[],t={}){return new tm(e,t)}static next(){let e=tm.getInstance();e&&e.next()}static prev(){let e=tm.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(let e of tu.values())e.close(...t);else{let e=tm.getInstance();e&&e.close(...t)}}}Object.defineProperty(tm,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(tm,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ed}),Object.defineProperty(tm,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{Hash:class extends U{onReady(){ep=!1}onChange(e){ef&&clearTimeout(ef);let{hash:t}=eg(),{hash:s}=ev(),o=e.isOpeningSlide(e.getSlide());o&&(eu=s===t?"":s),t&&t!==s&&(ef=setTimeout(()=>{try{if(e.state===n.Ready){let e="replaceState";o&&!em&&(e="pushState",em=!0),window.history[e]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}},300))}onClose(e){if(ef&&clearTimeout(ef),!ep&&em)return em=!1,ep=!1,void window.history.back();if(!ep)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(eu||""))}catch(e){}}attach(){let e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}detach(){let e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}static parseURL(){return ev()}static startFromUrl(){eb()}static destroy(){window.removeEventListener("hashchange",ew,!1)}},Html:ek,Images:eE,Slideshow:eF,Thumbs:eY,Toolbar:eK}}),Object.defineProperty(tm,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),document.querySelectorAll(".gallery").forEach((e,t)=>{e.querySelectorAll(".fancybox-gallery-link").forEach(e=>{e.dataset.fancybox=`gallery-${t+1}`}),tm.bind(`[data-fancybox='gallery-${t+1}']`,{on:{reveal:(t,n)=>{let s=getComputedStyle(e.querySelector(".gallery-image")).getPropertyValue("--advanced-image-controls");n.contentEl.style.filter=s;let o=getComputedStyle(e.querySelector(".gallery-item")).getPropertyValue("--gallery-image-overlay");if(o){let e=document.createElement("div");e.classList.add("fancybox-image-overlay-container"),e.style.backgroundColor=o,n.imageEl.after(e)}}},Thumbs:{on:{createSlide:(t,n,s)=>{let o=getComputedStyle(e.querySelector(".gallery-image")).getPropertyValue("--advanced-image-controls");o&&(s.style.filter=o);let a=getComputedStyle(e.querySelector(".fancybox-gallery-link .gallery-item")).getPropertyValue("--gallery-image-overlay");if(a){let e=document.createElement("div");e.classList.add("thumbnail-overlay-container"),e.style.backgroundColor=a,s.querySelector(".f-thumbs__slide__img").after(e)}}}}})}),document.querySelectorAll(".masonry-gallery").forEach((e,t)=>{e.querySelectorAll(".masonry-gallery-image-wrapper").forEach(e=>{e.dataset.fancybox=`masonry-gallery-${t+1}`}),tm.bind(`[data-fancybox='masonry-gallery-${t+1}']`,{on:{reveal:(t,n)=>{let s=getComputedStyle(e.querySelector(".masonry-gallery-image")).getPropertyValue("--masonry-advanced-image-controls");s&&(n.contentEl.style.filter=s);let o=getComputedStyle(e.querySelector(".masonry-gallery-image-wrapper .gallery-item")).getPropertyValue("--masonry-gallery-image-overlay");if(o){let e=document.createElement("div");e.classList.add("fancybox-image-overlay-container"),e.style.backgroundColor=o,n.imageEl.after(e)}}},Thumbs:{on:{createSlide:(t,n,s)=>{let o=getComputedStyle(e.querySelector(".masonry-gallery-image")).getPropertyValue("--masonry-advanced-image-controls");o&&(s.style.filter=o);let a=getComputedStyle(e.querySelector(".gallery-item")).getPropertyValue("--masonry-gallery-image-overlay");if(a){let e=document.createElement("div");e.classList.add("thumbnail-overlay-container"),e.style.backgroundColor=a,s.querySelector(".f-thumbs__slide__img").after(e)}}}}})});let tf=document.querySelector(".navbar"),tg=document.querySelector(".toggle-container"),tv=document.querySelector(".navbar-collapse.collapse");tv&&tg.addEventListener("click",function(){tv.classList.contains("show")?tf.classList.remove("padding-fix"):tf.classList.add("padding-fix")});let tb=document.querySelectorAll(".offers-modal");tb&&tb.forEach(e=>{let t=e.querySelector(".offer-select"),n=e.querySelectorAll(".offers-iframe-container"),s=e.querySelectorAll(".offers-select-names"),o=e.querySelector(".close");function a(){let e=this.textContent;t.textContent=e}function r(){let t=this.dataset.offerselect,s=e.querySelector(".offer-location-select");n.forEach(e=>{e.dataset.offername===t?e.style.display="flex":e.style.display="none"}),s.style.display="none"}s.forEach(e=>{e.addEventListener("click",r),e.addEventListener("click",a)}),e.querySelector(".offers-dropdown")&&o.addEventListener("click",function(){let t=e.querySelector(".offer-location-select"),s=e.querySelector(".dropdown-toggle");s.innerHTML=s.dataset.default,n.forEach(e=>{e.style.display="none"}),t.style.display="block"})});let ty=document.querySelector(".navbar-search"),tw=document.querySelector(".search-collapse"),tx=document.querySelector("#search-header");ty&&document.addEventListener("click",function(e){ty.contains(e.target)||tx.contains(e.target)?tw.style.display="block":tw.style.display="none"});let tS=document.querySelector(".wp-block-search__inside-wrapper > .wp-block-search__input"),tE=document.querySelector(".wp-block-search__inside-wrapper > .wp-block-search__button");if(tS){tE.setAttribute("id","searchsubmit");let e=e=>{e<=769?(tE.innerHTML="",tE.insertAdjacentHTML("beforeend",' <i class="bi bi-search"></i>')):(tE.innerHTML="",tE.innerHTML="Search ",tE.insertAdjacentHTML("beforeend",' <i class="bi bi-chevron-right"></i>'))},t=()=>{e(window.innerWidth)},n=!1;window.addEventListener("load",t),window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(t,100)})}let tC=document.querySelector("#carouselCards"),tP=document.querySelectorAll(".carousel.carousel-multi-item .carousel-item");if(tC){let e=new bootstrap.Carousel(tC,{interval:!1,keyboard:!1,ride:"carousel",touch:!0});tC.addEventListener("slide.bs.carousel",()=>{tP.forEach(e=>{e.children[0].classList.remove("active")})}),tC.addEventListener("slid.bs.carousel",()=>{tP.forEach(e=>{e.classList.contains("active")&&e.children[0].classList.add("active")}),a(tP)});let t=t=>{document.querySelectorAll(".carousel-item-card").forEach(t=>{t.addEventListener("click",()=>{e.to(t.dataset.carouselCardNumber-1)})})},n=()=>{for(let e of document.querySelectorAll(".carousel-content-container"))e.classList.contains("show")?e.classList.remove("show"):e.classList.add("collapse")},s=()=>{let e=document.querySelectorAll(".carousel-item-card"),t=document.querySelectorAll(".carousel-content-container");for(let n of e)if(n.classList.contains("active"))for(let e of t)n.dataset.carouselCard==e.dataset.carouselCard&&e.classList.contains("collapse")&&e.classList.remove("collapse")},o=e=>{for(let t of e)if(t.classList.contains("active")){for(let e of t.children)if(e.classList.contains("active"))return e.dataset.carouselCard}},a=e=>{let t=document.querySelectorAll(".carousel-card"),n=o(e);for(let e of t)e.id!==n?(e.classList.remove("active"),e.classList.add("hidden")):(e.classList.remove("hidden"),e.classList.add("active"))},r=e=>{e.forEach((e,t)=>{0===t&&e.children[0].classList.add("active")})},l=(e,t)=>{e.forEach(n=>{let s=n.nextElementSibling;for(var o=1;o<t;o++){s||(s=e[0]);let t=s.cloneNode(!0);n.appendChild(t.children[0]),s=s.nextElementSibling}}),r(e),a(e)},c=e=>{e>1200?(l(tP,3),t(tP),s()):e>768?(l(tP,2),t(tP),s()):(l(tP,1),n())},h=!1,d=window.innerWidth;window.addEventListener("load",c(d)),window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{window.innerWidth!=d&&c(d=window.innerWidth)},100)})}let tT=document.getElementById("background-video"),tM=document.getElementById("toggle");if(tM&&tM.addEventListener("click",function(){tT.paused?(tM.innerHTML='<i class="fas fa-pause"></i> Pause Video',tM.classList.remove("paused"),tM.classList.add("playing"),tT.play()):(tM.innerHTML='<i class="fas fa-play"></i> Play Video',tM.classList.remove("playing"),tM.classList.add("paused"),tT.pause())}),document.querySelector(".multiple-location-billboard-content")&&(document.querySelector(".site-header").style.display="none"),document.querySelector(".contact-us")){let e=document.querySelectorAll("button.button-school-nav-link"),t=document.querySelector(".contact-us-nav"),n=document.querySelector("body").clientWidth,s=document.querySelectorAll(".location-contact-us-tab-pane");(e=>{e.forEach(e=>{let t=document.querySelector(`${e.dataset.bsTarget}`);e.addEventListener("click",()=>{setTimeout(()=>{t.scrollIntoView()},200)})})})(e),n>992&&document.querySelectorAll(".accordion-collapse").forEach(e=>{e.classList.add("show")}),t&&n>992&&(e[0].classList.add("active"),s[0].classList.add("active","show"))}let tL=(e,t,n)=>{e.classList.add("collapsed"),t.classList.remove("show"),0===n&&(t.classList.add("show"),e.classList.remove("collapsed"))},tO=(e,t,n)=>{n.dataset.bsParent="#"+e.id,t.dataset.bsTarget="#"+n.id,t.dataset.bsToggle="collapse"},tA=(e,t)=>{let n=e.querySelector(".feature-icon-container"),s=n.cloneNode(!0);e.querySelector(".accordion-header").insertBefore(s,t),n.remove()},tk=document.querySelector("#features"),tz=document.querySelector("body").clientWidth;if(tk&&tz<992&&document.querySelectorAll(".accordion.feature-container").forEach((e,t)=>{let n=e.querySelector(".accordion-header button"),s=e.querySelector(".accordion-collapse");tL(n,s,t),tO(e,n,s),tA(e,n)}),document.querySelector(".schedule-container .table")){let e=document.querySelectorAll(".schedule-table-thead tr th"),t=[],n=[];e.forEach(e=>{t.push(e.innerHTML)});let s=(e,t)=>{if(!t.includes(e)){t.push(e);return}},o=e=>e.replace(/[^\w ]/,"").toLowerCase().trim().split(" ").join("-"),a=e=>{e.childNodes.forEach((e,t)=>{if(1===e.nodeType&&0===t&&"BR"!==e.nodeName){let t=o(e.textContent);e.parentElement.classList.add(t),s(e.textContent.trimEnd(),n)}else if(0===t&&!e.textContent.includes(" am")&&0===t&&!e.textContent.includes(" pm")){let t=o(e.textContent);e.parentElement.classList.add(t),s(e.textContent.trimEnd(),n)}})},r=e=>{e.forEach(e=>{e.querySelectorAll("td").forEach(e=>{a(e)})})},l=()=>{let e=document.querySelector(".schedule-filter-container"),t=document.createElement("div");t.classList.add("schedule-program-name-filter"),e.appendChild(t),[...n.sort()].forEach(e=>{let n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("id",o(e)),n.classList.add("schedule-filter-button"),n.innerHTML=e,t.appendChild(n)})},c=(e,t,n)=>{if(!e.querySelector("button")){let s=document.createElement("button");s.setAttribute("id","schedule-clear-filters"),s.innerHTML="Clear Filters X",e.appendChild(s),h(s,t,n)}},h=(e,t,n)=>{e.addEventListener("click",()=>{t.forEach(e=>{e.style.display="table-row"}),n.forEach(e=>{e.style.visibility="visible"}),e.remove()})},d=(e,t)=>{let n=document.querySelectorAll(".schedule-filter-button"),s=document.querySelector(".schedule-filter-options span");n.forEach((n,o)=>{n.addEventListener("click",()=>{c(s,e,t),e.forEach(e=>{e.style.display="none"}),t.forEach(e=>{e.className===n.id?(e.style.visibility="visible",e.parentElement.style.display="table-row"):e.style.visibility="hidden"})})})},u=()=>{let e=new Date().getDay();return 0===e?6:e-1},p=()=>{let t=u();e.forEach((e,n)=>{n===t&&e.classList.add("today")})},m=(t,n)=>{let s=parseInt(t);e.forEach((e,t)=>{t!==s?(e.classList.remove("today"),e.classList.add("not-active")):(e.classList.remove("not-active"),e.classList.add("today"))}),x.forEach(e=>{e.querySelectorAll("td").forEach((e,t)=>{t!==s?(e.classList.remove("empty-cell"),e.classList.remove("active"),e.classList.add("not-active")):0===e.children.length?(e.classList.remove("not-active"),e.classList.add("empty-cell")):(e.classList.remove("empty-cell"),e.classList.remove("not-active"),e.classList.add("active"))})})},f=(e,n)=>{for(i=0;i<t.length;i++){let s=document.createElement("option");s.innerHTML=t[i],s.value=i,e.appendChild(s),s.value===n.toString()&&s.setAttribute("selected","")}m(n)},g=e=>{e.querySelectorAll("option").forEach((t,n)=>{t.removeAttribute("selected"),e.value===n.toString()&&t.setAttribute("selected","")})},v=()=>{e.forEach((e,t)=>{e.classList.remove("today"),e.classList.remove("not-active"),e.removeAttribute("class")})},b=e=>{e.forEach(e=>{e.querySelectorAll("td").forEach((e,t)=>{e.classList.remove("active"),e.classList.remove("not-active")})})},y=e=>{e.style.height="";let t=e.clientHeight;e.style.height=t+"px"},w=e=>{let t=document.querySelector(".schedule-loading-screen");t.classList.remove("disabled"),t.classList.add("start-spin"),setTimeout(()=>{t.classList.add("disabled"),t.classList.remove("start-spin"),e.classList.remove("hidden"),e.classList.add("visible")},1e3)},x=document.querySelectorAll(".schedule-table-tbody tr"),S=document.querySelectorAll(".schedule-table-tbody tr td"),E=u(),C=()=>{let e=document.querySelector("#schedule-table-select"),t=document.querySelector(".schedule-program-name-filter"),n=document.querySelector(".schedule-container .wp-block-table"),s=document.querySelector("#schedule"),o=window.innerWidth;o<992&&0===e.children.length?(w(s),v(),b(x),f(e,E),e.addEventListener("change",e=>{m(e.target.value),g(e.target),y(n)}),m(E)):o>992&&!t&&(v(),b(x),p(),r(x,o),l(),d(x,S),y(n))},P=!1;window.addEventListener("load",C),window.addEventListener("resize",()=>{clearTimeout(P),P=setTimeout(C,500)})}let tR=document.querySelector("#testimonialCardCarousel");new bootstrap.Carousel(tR,{interval:1e4,keyboard:!1,pause:"hover",touch:!0});let tI=e=>{e.style.position="absolute",e.style.top="-5000px",e.style.display="block";let t=e.clientHeight;return e.style.display="",e.style.top="",e.style.position="",t};if(tR){let e;let t=document.querySelectorAll(".testimonial-cards-container .carousel-item");maxHeight=(e=[],t.forEach(t=>{let n=tI(t);e.push(n)}),Math.max.apply(Math,e)),t.forEach(e=>{e.style.height=maxHeight+32+"px"})}if(document.querySelector(".video-gallery")){let e=document.querySelectorAll(".video-thumbnail"),t=document.querySelector(".video-container"),n=document.querySelector(".video-wrapper"),s=document.querySelector("#video-player"),o=document.querySelector(".video-player-container video source"),a=e=>{s.onloadedmetadata=()=>{let t=e.querySelector(".thumbnail-video-details").children[0].innerText;document.querySelector(".video-details").children[0].innerHTML=t}},r=e=>{e.classList.add("active-video"),o.src=e.firstElementChild.src,s.load(),a(e)},l=()=>{e.forEach(e=>{e.classList.remove("active-video")})};e.forEach((e,n)=>{0===e[n]&&e[0].classlist.add("active-video"),e.addEventListener("click",t=>{l(),r(e),t.preventDefault()}),e.addEventListener("touchend",n=>{t.scrollIntoView({behavior:"smooth"}),l(),r(e),n.preventDefault()})}),(()=>{let r=e[0];r.classList.add("active-video"),t.style=`--video-gallery-thumbnail-slider-height: ${n.offsetHeight}px`,o.src=e[0].firstElementChild.src,s.load(),a(r)})()}let tD=document.querySelector("#school-location");if(tD){let e,t;e=[...document.querySelectorAll(".location-information")].map(e=>e.clientHeight),t=Math.max.apply(Math,e),document.querySelectorAll(".webform-location-forms").forEach(e=>{e.style.height=t+"px"}),function(e){e.addEventListener("change",function(){let t=function(e){let t;for(let n=0,s=e.options.length;n<s&&!0!==(t=e.options[n]).selected;n++);return t}(e);document.querySelectorAll(".location-information").forEach(e=>{if(e.classList.contains(t.value)){let t;(t=document.querySelector(".webform-loading-screen")).classList.remove("disabled"),t.classList.add("start-spin"),setTimeout(()=>{t.classList.add("disabled"),t.classList.remove("start-spin")},750),setTimeout(()=>{e.classList.remove("inactive-school")},750)}else e.classList.add("inactive-school")})})}(tD)}})();
//# sourceMappingURL=index.min.js.map